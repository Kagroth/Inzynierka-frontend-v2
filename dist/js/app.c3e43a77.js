(function(e){function t(t){for(var a,o,i=t[0],l=t[1],c=t[2],d=0,v=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&v.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(v.length)v.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],a=!0,i=1;i<s.length;i++){var l=s[i];0!==r[l]&&(a=!1)}a&&(n.splice(t--,1),e=o(o.s=s[0]))}return e}var a={},r={app:0},n=[];function o(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=a,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(s,a,function(t){return e[t]}.bind(null,a));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var a=s("8a23"),r=s.n(a);r.a},"0aa5":function(e,t,s){"use strict";var a=s("e978"),r=s.n(a);r.a},"18a2":function(e,t,s){},"346e":function(e,t,s){"use strict";var a=s("18a2"),r=s.n(a);r.a},"4b68":function(e,t,s){"use strict";var a=s("80d6"),r=s.n(a);r.a},"4cdf":function(e,t,s){"use strict";var a=s("7b44"),r=s.n(a);r.a},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("v-app",[s("main-nav"),s("v-content",[s("v-container",{staticClass:"pt-0 pb-0 mt-0",staticStyle:{height:"100%",width:"100%"},attrs:{fluid:""}},[s("v-row",{staticStyle:{height:"100%"}},[s("v-col",{staticClass:"pt-0 pb-0 mt-0 mb-0",attrs:{cols:"12"}},[s("router-view")],1)],1)],1)],1)],1)],1)},n=[],o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-toolbar",{attrs:{dark:""}},[s("v-toolbar-items",[s("v-btn",{attrs:{to:"/"}},[e._v("Strona główna")])],1),s("v-spacer"),e.isLogged?s("v-toolbar-items",[s("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-btn",e._g({attrs:{dark:""}},a),[e._v(" "+e._s(e.username)+" ")])]}}])},[s("v-btn",{on:{click:e.logout}},[e._v("Wyloguj")])],1)],1):s("v-toolbar-items",[s("v-btn",{attrs:{to:"/login"}},[e._v("Logowanie")]),s("v-btn",{attrs:{to:"/register"}},[e._v("Rejestracja")])],1)],1)],1)},i=[],l={computed:{isLogged:function(){return this.$store.state.auth.isLogged},username:function(){return this.$store.state.auth.username}},methods:{logout:function(){this.$store.commit("auth/logout"),this.$router.push("/")}}},c=l,u=s("2877"),d=s("6544"),v=s.n(d),p=s("8336"),m=s("e449"),h=s("2fa4"),f=s("71d9"),g=s("2a7f"),k=Object(u["a"])(c,o,i,!1,null,"6cebc24a",null),w=k.exports;v()(k,{VBtn:p["a"],VMenu:m["a"],VSpacer:h["a"],VToolbar:f["a"],VToolbarItems:g["a"]});var b={components:{"main-nav":w},name:"App"},_=b,y=(s("034f"),s("7496")),x=s("62ad"),T=s("a523"),V=s("a75b"),C=s("0fd9"),z=Object(u["a"])(_,r,n,!1,null,null,null),S=z.exports;v()(z,{VApp:y["a"],VCol:x["a"],VContainer:T["a"],VContent:V["a"],VRow:C["a"]});s("d3b7"),s("3ca3"),s("ddb0");var R=s("3835"),$=(s("96cf"),s("2f62")),L=(s("a4d3"),s("e01a"),s("d28b"),s("7039"),s("bc3a")),E=s.n(L),j=E.a.create({baseURL:"http://13.53.79.179:8000/"}),U="",D="",A={APIInstance:j,token:U,refreshToken:D,setAuthToken:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.token=e,null!==t&&(this.refreshToken=t,console.log(t)),this.APIInstance.defaults.headers.common["Authorization"]="Bearer ".concat(e)},sendRequest:function(e,t){var s=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r={};return r=null===a?{url:e,method:t}:{url:e,method:t,data:a},this.APIInstance.request(r).then((function(e){return e})).catch((function(e){return 401===e.response.status?(console.log("Brak autoryzacji"),console.log(s.refreshToken),s.APIInstance.request({url:"token/refresh/",method:"POST",data:{refresh:localStorage.getItem("refresh")}}).then((function(e){return console.log(e),localStorage.setItem("token",e.data.access),s.setAuthToken(e.data.access),s.APIInstance.request(r)})).catch((function(e){return console.log(e),console.log(e.response),e}))):e}))},loginUser:function(e){return this.sendRequest("token/","post",e)},createUser:function(e){return this.sendRequest("users/","post",e)},loadUserData:function(e){return this.sendRequest("profile/".concat(e),"get")},loadAllUsers:function(){return this.sendRequest("users/","get")},loadStudents:function(){return this.sendRequest("students/","get")},loadGroups:function(){return this.sendRequest("groups/","get")},createGroup:function(e){return this.sendRequest("groups/","post",e)},updateGroup:function(e){return this.sendRequest("groups/"+e.pk+"/","put",e)},deleteGroup:function(e){return this.sendRequest("groups/"+e+"/","delete")},loadAllExercises:function(){return this.sendRequest("exercises/","get")},loadAllTests:function(){return this.sendRequest("tests/","get")},loadAllTasks:function(){return this.sendRequest("tasks/","get")},createExercise:function(e){return this.sendRequest("exercises/","post",e)},deleteExercise:function(e){return this.sendRequest("exercises/"+e,"delete")},createTest:function(e){return this.sendRequest("tests/","post",e)},deleteTest:function(e){return this.sendRequest("tests/"+e,"delete")},createTask:function(e){return this.sendRequest("tasks/","post",e)},loadLanguagesAll:function(){return this.sendRequest("languages/","get")},loadLevelsAll:function(){return this.sendRequest("levels/","get")},createSolution:function(e){var t={url:"solutions/",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}};return this.APIInstance.request(t)},getAllSolutions:function(){return this.sendRequest("solutions/","get")},getSolution:function(e){return this.sendRequest("solutions/"+e,"get")},getSolutionTypes:function(){return this.sendRequest("solution_types/","get")},closeTask:function(e){return this.sendRequest("tasks/"+e.pk+"/","put",e)},rateSolution:function(e){return this.sendRequest("solutions/"+e.pk+"/","put",e)},getUserData:function(e){return this.sendRequest("users/"+e+"/","get")},getTeachersStudents:function(){return this.sendRequest("my_students/","get")},obtainResetPasswordLink:function(e){return this.sendRequest("reset_password/","post",e)},verifyResetPasswordHash:function(e){return this.sendRequest("reset_password/"+e,"get")},setNewPassword:function(e){return this.sendRequest("reset_password/"+e.hash_string,"put",e)},testRegistrationHashView:function(e){return this.sendRequest("reset_password/","get")}},N={token:"",refreshToken:"",isLogged:"",username:"",profile:{}},I={},P={init:function(e){e.token=localStorage.getItem("token")||"",e.refreshToken=localStorage.getItem("refresh")||"",e.isLogged=null!==localStorage.getItem("token")&&void 0!==localStorage.getItem("token"),e.username=localStorage.getItem("username")||"",e.profile=JSON.parse(localStorage.getItem("profile"))||{}},setToken:function(e,t){console.log("Token: "+JSON.stringify(t)),console.log("Ustawiam token!"),localStorage.setItem("token",t.token),localStorage.setItem("refresh",t.refresh),localStorage.setItem("username",t.username),e.token=localStorage.getItem("token"),e.refreshToken=localStorage.getItem("refresh"),e.isLogged=null!=localStorage.getItem("token"),e.username=t.username,A.setAuthToken(t.token,t.refresh),console.log(e.username)},setProfile:function(e,t){localStorage.setItem("profile",JSON.stringify(t)),e.profile=t},logout:function(e){localStorage.clear();var t=!0,s=!1,a=void 0;try{for(var r,n=Object.getOwnPropertyNames(e)[Symbol.iterator]();!(t=(r=n.next()).done);t=!0){var o=r.value;e[o]=null}}catch(i){s=!0,a=i}finally{try{t||null==n.return||n.return()}finally{if(s)throw a}}e.isLogged=!1}},F={createUser:function(e,t){var s;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Wysylam request rejestracji"),s={},e.prev=2,e.next=5,regeneratorRuntime.awrap(A.createUser(t));case 5:if(s=e.sent,!s.response){e.next=8;break}return e.abrupt("return",s.response);case 8:return e.abrupt("return",s);case 11:return e.prev=11,e.t0=e["catch"](2),console.log(e.t0),e.abrupt("return",{message:"Nie udalo sie zarejestrować"});case 15:case"end":return e.stop()}}),null,null,[[2,11]])},loginUser:function(e,t){var s,a,r,n;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return s=e.commit,e.dispatch,a=e.state,console.log("Wysylam request logowania"),r={},n={},o.prev=4,o.next=7,regeneratorRuntime.awrap(A.loginUser(t));case 7:return r=o.sent,console.log(r),s("setToken",{token:r.data.access,refresh:r.data.refresh,username:t.username}),o.next=12,regeneratorRuntime.awrap(A.loadUserData(a.username));case 12:return n=o.sent,s("setProfile",n.data),o.abrupt("return",{data:r,message:"Zalogowano"});case 17:return o.prev=17,o.t0=o["catch"](4),o.abrupt("return",{message:"Niepoprawne dane logowania"});case 20:case"end":return o.stop()}}),null,null,[[4,17]])},obtainResetPasswordLink:function(e,t){var s;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return s={},e.prev=1,e.next=4,regeneratorRuntime.awrap(A.obtainResetPasswordLink(t));case 4:if(s=e.sent,!s.response){e.next=7;break}return e.abrupt("return",s.response);case 7:return e.abrupt("return",s);case 10:return e.prev=10,e.t0=e["catch"](1),e.abrupt("return",{message:"Uzyskanie linku zostalo zakonczone niepowodzeniem"});case 13:case"end":return e.stop()}}),null,null,[[1,10]])},verifyResetPasswordHash:function(e,t){var s;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return s={},e.prev=1,e.next=4,regeneratorRuntime.awrap(A.verifyResetPasswordHash(t));case 4:if(s=e.sent,!s.response){e.next=7;break}return e.abrupt("return",s.response);case 7:return e.abrupt("return",s);case 10:return e.prev=10,e.t0=e["catch"](1),e.abrupt("return",{message:"Brak mozliwosci zmiany hasla"});case 13:case"end":return e.stop()}}),null,null,[[1,10]])},setNewPassword:function(e,t){var s;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return s={},e.prev=1,e.next=4,regeneratorRuntime.awrap(A.setNewPassword(t));case 4:if(s=e.sent,!s.response){e.next=7;break}return e.abrupt("return",s.response);case 7:return e.abrupt("return",s);case 10:return e.prev=10,e.t0=e["catch"](1),e.abrupt("return",{message:"Nastapil blad podczas proby zmiany hasla"});case 13:case"end":return e.stop()}}),null,null,[[1,10]])}},q={namespaced:!0,state:N,getters:I,mutations:P,actions:F},O={users:[],groups:[]},G={},M={setUsers:function(e,t){e.users=t},setGroups:function(e,t){console.log(t),e.groups=t}},H={loadAllUsers:function(e){var t,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return t=e.commit,console.log("Wyslano request pobrania uzytkownikow"),s={},a.prev=3,a.next=6,regeneratorRuntime.awrap(A.loadAllUsers());case 6:return s=a.sent,console.log(s),t("setUsers",s.data),a.abrupt("return",{data:s,message:"Wszyscy użytkownicy zostali załadowani"});case 12:a.prev=12,a.t0=a["catch"](3),console.log(a.t0);case 15:case"end":return a.stop()}}),null,null,[[3,12]])},loadStudents:function(e){var t,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return t=e.commit,console.log("Wyslano request pobrania studentow"),s={},a.prev=3,a.next=6,regeneratorRuntime.awrap(A.loadStudents());case 6:return s=a.sent,console.log(s),t("setUsers",s.data),a.abrupt("return",{data:s,message:"Wszyscy studenci zostali zaladowani"});case 12:a.prev=12,a.t0=a["catch"](3),console.log(a.t0);case 15:case"end":return a.stop()}}),null,null,[[3,12]])},loadGroups:function(e,t){var s,a;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,a={},t.prev=2,t.next=5,regeneratorRuntime.awrap(A.loadGroups());case 5:return a=t.sent,console.log(a),s("setGroups",a.data),t.abrupt("return",{data:a,message:"Pobrano wszystkie grupy"});case 11:t.prev=11,t.t0=t["catch"](2),console.log(t.t0);case 14:case"end":return t.stop()}}),null,null,[[2,11]])},loadTeachersStudents:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return e={},t.prev=1,t.next=4,regeneratorRuntime.awrap(A.getTeachersStudents());case 4:if(e=t.sent,!e.response){t.next=7;break}return t.abrupt("return",e.response);case 7:return t.abrupt("return",e);case 10:return t.prev=10,t.t0=t["catch"](1),console.log(t.t0),t.abrupt("return",{message:"Nie udalo sie pobrac studentow"});case 14:case"end":return t.stop()}}),null,null,[[1,10]])},createGroup:function(e,t){var s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e.commit,s={},a.prev=2,a.next=5,regeneratorRuntime.awrap(A.createGroup(t));case 5:if(s=a.sent,console.log(s),!s.response){a.next=9;break}return a.abrupt("return",s.response);case 9:return a.abrupt("return",s);case 12:return a.prev=12,a.t0=a["catch"](2),console.log(a.t0),a.abrupt("return",{message:"Nie udalo sie utworzyc grupy"});case 16:case"end":return a.stop()}}),null,null,[[2,12]])},updateGroup:function(e,t){var s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e.commit,s={},a.prev=2,a.next=5,regeneratorRuntime.awrap(A.updateGroup(t));case 5:if(s=a.sent,console.log(s),!s.response){a.next=9;break}return a.abrupt("return",s.response);case 9:return a.abrupt("return",s);case 12:a.prev=12,a.t0=a["catch"](2),console.log(a.t0);case 15:case"end":return a.stop()}}),null,null,[[2,12]])},deleteGroup:function(e,t){var s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e.commit,s={},console.log(t),a.prev=3,a.next=6,regeneratorRuntime.awrap(A.deleteGroup(t));case 6:return s=a.sent,console.log(s),a.abrupt("return",{data:s,message:"Grupa zostala usunieta"});case 11:a.prev=11,a.t0=a["catch"](3),console.log(a.t0);case 14:case"end":return a.stop()}}),null,null,[[3,11]])},getUserData:function(e,t){var s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e.commit,a.prev=1,a.next=4,regeneratorRuntime.awrap(A.getUserData(t));case 4:if(s=a.sent,console.log(s),!s.response){a.next=8;break}return a.abrupt("return",s.response);case 8:return a.abrupt("return",s);case 11:return a.prev=11,a.t0=a["catch"](1),console.log(a.t0),a.abrupt("return",{message:"Nie udalo sie pobrac danych uzytkownika"});case 15:case"end":return a.stop()}}),null,null,[[1,11]])}},W={namespaced:!0,state:O,getters:G,mutations:M,actions:H},B={exercises:[],tests:[],tasks:[]},Z={},J={setExercises:function(e,t){console.log(t),e.exercises=t},setTests:function(e,t){console.log(t),e.tests=t},setTasks:function(e,t){console.log(t),e.tasks=t}},K={getLanguagesAll:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Pobieram jezyki"),e={},t.prev=2,t.next=5,regeneratorRuntime.awrap(A.loadLanguagesAll());case 5:return e=t.sent,console.log(e.data),t.abrupt("return",e.data);case 10:t.prev=10,t.t0=t["catch"](2),console.log(t.t0);case 13:case"end":return t.stop()}}),null,null,[[2,10]])},getLevelsAll:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Pobieram poziomy zaawansowania"),e={},t.prev=2,t.next=5,regeneratorRuntime.awrap(A.loadLevelsAll());case 5:return e=t.sent,console.log(e.data),t.abrupt("return",e.data);case 10:t.prev=10,t.t0=t["catch"](2),console.log(t.t0);case 13:case"end":return t.stop()}}),null,null,[[2,10]])},getSolutionTypesAll:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return e={},t.prev=1,t.next=4,regeneratorRuntime.awrap(A.getSolutionTypes());case 4:return e=t.sent,console.log(e),t.abrupt("return",e.data);case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:case"end":return t.stop()}}),null,null,[[1,9]])},getAllExercises:function(e){var t,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return t=e.commit,console.log("Wysylam zadanie pobrania wszystkich ćwiczeń"),s={},a.prev=3,a.next=6,regeneratorRuntime.awrap(A.loadAllExercises());case 6:return s=a.sent,console.log(s),t("setExercises",s.data),a.abrupt("return",{data:s,message:"Pobrano wszystkie cwiczenia"});case 12:a.prev=12,a.t0=a["catch"](3),console.log(a.t0);case 15:case"end":return a.stop()}}),null,null,[[3,12]])},getAllTests:function(e){var t,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return t=e.commit,console.log("Wysylam zadanie pobrania wszystkich kolokwiow"),s={},a.prev=3,a.next=6,regeneratorRuntime.awrap(A.loadAllTests());case 6:return s=a.sent,console.log(s),t("setTests",s.data),a.abrupt("return",{data:s,message:"Pobrano wszystkie kolokwia"});case 12:a.prev=12,a.t0=a["catch"](3),console.log(a.t0);case 15:case"end":return a.stop()}}),null,null,[[3,12]])},getAllTasks:function(e){var t,s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return t=e.commit,console.log("Wysylam zadanie pobrania wszystkich zadan"),s={},a.prev=3,a.next=6,regeneratorRuntime.awrap(A.loadAllTasks());case 6:return s=a.sent,console.log(s),t("setTasks",s.data),a.abrupt("return",{data:s,message:"Pobrano wszystkie zadania"});case 12:a.prev=12,a.t0=a["catch"](3),console.log(a.t0);case 15:case"end":return a.stop()}}),null,null,[[3,12]])},createExercise:function(e,t){var s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e.commit,console.log("Wysylam zadanie utworzenia nowego cwiczenia"),s={},a.prev=3,a.next=6,regeneratorRuntime.awrap(A.createExercise(t));case 6:if(s=a.sent,console.log(s),!s.response){a.next=10;break}return a.abrupt("return",s.response);case 10:return a.abrupt("return",s);case 13:return a.prev=13,a.t0=a["catch"](3),console.log(a.t0),a.abrupt("return",{message:"Nie udalo sie utworzyc cwiczenia"});case 17:case"end":return a.stop()}}),null,null,[[3,13]])},deleteExercise:function(e,t){var s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e.commit,console.log("Wysylam request usuniecia cwiczenia"),s={},a.prev=3,a.next=6,regeneratorRuntime.awrap(A.deleteExercise(t));case 6:return s=a.sent,console.log(s),a.abrupt("return",{data:s,message:"Usunieto cwiczenie"});case 11:a.prev=11,a.t0=a["catch"](3),console.log(a.t0);case 14:case"end":return a.stop()}}),null,null,[[3,11]])},createTest:function(e,t){var s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e.commit,console.log("Wysylam zadanie utworzenia kolokwium"),s={},a.prev=3,a.next=6,regeneratorRuntime.awrap(A.createTest(t));case 6:if(s=a.sent,console.log(s),!s.response){a.next=10;break}return a.abrupt("return",s.response);case 10:return a.abrupt("return",s);case 13:return a.prev=13,a.t0=a["catch"](3),console.log(a.t0),a.abrupt("return",{message:"Nie udalo sie utworzyc testu"});case 17:case"end":return a.stop()}}),null,null,[[3,13]])},deleteTest:function(e,t){var s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e.commit,console.log("Wysylam request usuniecia kolokwium"),s={},a.prev=3,a.next=6,regeneratorRuntime.awrap(A.deleteTest(t));case 6:return s=a.sent,console.log(s),a.abrupt("return",{data:s,message:"Usunieto kolokwium"});case 11:a.prev=11,a.t0=a["catch"](3),console.log(a.t0);case 14:case"end":return a.stop()}}),null,null,[[3,11]])},createTask:function(e,t){var s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e.commit,console.log("Wysylam zadanie utworzenia nowego zadania"),s={},a.prev=3,a.next=6,regeneratorRuntime.awrap(A.createTask(t));case 6:if(s=a.sent,console.log(s),!s.response){a.next=10;break}return a.abrupt("return",s.response);case 10:return a.abrupt("return",s);case 13:return a.prev=13,a.t0=a["catch"](3),console.log(a.t0),a.abrupt("return",{message:"Zadanie zostalo utworzone"});case 17:case"end":return a.stop()}}),null,null,[[3,13]])},sendSolution:function(e,t){var s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e.commit,s={},a.prev=2,a.next=5,regeneratorRuntime.awrap(A.createSolution(t));case 5:return s=a.sent,console.log(s),a.abrupt("return",s);case 10:a.prev=10,a.t0=a["catch"](2),console.log(a.t0);case 13:case"end":return a.stop()}}),null,null,[[2,10]])},getAllSolutions:function(e){var t;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return e.commit,t={},s.prev=2,s.next=5,regeneratorRuntime.awrap(A.getAllSolutions());case 5:if(t=s.sent,console.log(t),!t.response){s.next=9;break}return s.abrupt("return",t.response);case 9:return s.abrupt("return",t);case 12:return s.prev=12,s.t0=s["catch"](2),console.log(s.t0),s.abrupt("return",{message:"Nie udalo sie pobrac rozwiazan"});case 16:case"end":return s.stop()}}),null,null,[[2,12]])},getSolution:function(e,t){var s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e.commit,s={},a.prev=2,a.next=5,regeneratorRuntime.awrap(A.getSolution(t));case 5:if(s=a.sent,console.log(s),!s.response){a.next=9;break}return a.abrupt("return",s.response);case 9:return a.abrupt("return",s);case 12:a.prev=12,a.t0=a["catch"](2),console.log(a.t0);case 15:case"end":return a.stop()}}),null,null,[[2,12]])},closeTask:function(e,t){var s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e.commit,s={},a.prev=2,a.next=5,regeneratorRuntime.awrap(A.closeTask(t));case 5:if(s=a.sent,!s.response){a.next=8;break}return a.abrupt("return",s.response);case 8:return a.abrupt("return",s);case 11:return a.prev=11,a.t0=a["catch"](2),console.log(a.t0),a.abrupt("return",{message:"Blad zakonczenia zadania"});case 15:case"end":return a.stop()}}),null,null,[[2,11]])},rateSolution:function(e,t){var s;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e.commit,s={},a.prev=2,a.next=5,regeneratorRuntime.awrap(A.rateSolution(t));case 5:if(s=a.sent,!s.response){a.next=8;break}return a.abrupt("return",s.response);case 8:return a.abrupt("return",s);case 11:return a.prev=11,a.t0=a["catch"](2),console.log(a.t0),a.abrupt("return",{message:"Blad oceniania rozwiazania"});case 15:case"end":return a.stop()}}),null,null,[[2,11]])}},Q={namespaced:!0,state:B,getters:Z,mutations:J,actions:K};a["a"].use($["a"]);var X=new $["a"].Store({modules:{auth:q,users:W,tasks:Q},actions:{loadTasksWithExercisesAndTests:function(e){var t,s,a,r,n,o;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return t=e.dispatch,i.prev=1,i.next=4,regeneratorRuntime.awrap(Promise.all([t("tasks/getAllExercises"),t("tasks/getAllTests"),t("tasks/getAllTasks")]));case 4:s=i.sent,a=Object(R["a"])(s,3),r=a[0],n=a[1],o=a[2],console.log(r),console.log(n),console.log(o),i.next=18;break;case 14:return i.prev=14,i.t0=i["catch"](1),console.log(i.t0),i.abrupt("return",i.t0);case 18:case"end":return i.stop()}}),null,null,[[1,14]])}}}),Y=(s("45fc"),s("b0c0"),s("8c4f")),ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-row",[e.isLogged?s("v-col",{attrs:{cols:"2"}},[s("v-navigation-drawer",{attrs:{dark:"",permanent:""}},[s("v-list",{attrs:{nav:""}},[s("v-list-item",{attrs:{link:"",to:{name:"MyTasks"},title:"Zobacz aktywne zadania oraz zadania gotowe do oceny"}},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-calendar-check")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v("Zadania")])],1)],1),"Teacher"===e.userType.name?s("span",[s("v-list-group",{attrs:{"prepend-icon":"mdi-folder",nav:"",title:"Rozwiń menu z odnośnikami do materiałów dydaktycznych"},scopedSlots:e._u([{key:"activator",fn:function(){return[s("v-list-item-title",[e._v("Materialy")])]},proxy:!0}],null,!1,3052749429)},[s("v-list-item",{attrs:{link:"",to:{name:"MyExercises"},title:"Wyświetl wszystkie ćwiczenia i utwórz nowe"}},[s("v-list-item-icon",[s("v-icon",{attrs:{color:"orange"}},[e._v("mdi-text-box")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v("Cwiczenia")])],1)],1),s("v-list-item",{attrs:{link:"",to:{name:"MyTests"},title:"Wyświetl wszystkie kolokwia i utwórz nowe z istniejących ćwiczeń"}},[s("v-list-item-icon",[s("v-icon",{attrs:{color:"green"}},[e._v("mdi-text-box-multiple")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v("Kolokwia")])],1)],1)],1)],1):e._e(),s("v-list-item",{attrs:{link:"",to:{name:"MyGroups"},title:"Teacher"===e.userType.name?"Wyświetl swoje grupy użytkowników lub utwórz nowe grupy":"Wyświetl grupy do których należysz"}},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-account-multiple")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v("Grupy")])],1)],1),"Teacher"===e.userType.name?s("v-list-item",{attrs:{link:"",to:{name:"SolutionListing"},title:"Wyświetl listę studentów i ich oceny"}},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-star")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v("Oceny")])],1)],1):s("v-list-item",{attrs:{link:"",to:{name:"SolutionListing"},title:"Wyświetl swoje oceny"}},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-magnify")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v("Moje wyniki")])],1)],1)],1)],1)],1):e._e(),s("v-col",{attrs:{cols:"8"}},[s("router-view")],1)],1)],1)},te=[],se={created:function(){this.isLogged&&this.$store.dispatch("loadTasksWithExercisesAndTests")},computed:{isLogged:function(){return this.$store.state.auth.isLogged},userType:function(){return this.$store.state.auth.profile.userType}}},ae=se,re=s("132d"),ne=s("8860"),oe=s("56b0"),ie=s("da13"),le=s("5d23"),ce=s("34c3"),ue=s("f774"),de=Object(u["a"])(ae,ee,te,!1,null,"e8217ac4",null),ve=de.exports;v()(de,{VCol:x["a"],VIcon:re["a"],VList:ne["a"],VListGroup:oe["a"],VListItem:ie["a"],VListItemContent:le["a"],VListItemIcon:ce["a"],VListItemTitle:le["c"],VNavigationDrawer:ue["a"],VRow:C["a"]});var pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-snackbar",{attrs:{top:"",color:e.snackbar.color},model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.message)+" "),s("v-btn",{attrs:{text:"",dark:""},on:{click:function(t){e.snackbar.show=!1}}},[e._v("Ok")])],1),s("v-container",[s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"6"}},[s("v-card",[s("v-card-title",[e._v("Logowanie")]),s("v-card-text",[s("v-form",[s("v-text-field",{attrs:{type:"text","error-messages":e.usernameRules,label:"Nazwa użytkownika",required:"",outlined:""},on:{input:function(t){return e.$v.form.username.$touch()},blur:function(t){return e.$v.form.username.$touch()}},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),s("v-text-field",{attrs:{type:"password","error-messages":e.passwordRules,label:"Hasło",requried:"",outlined:""},on:{input:function(t){return e.$v.form.password.$touch()},blur:function(t){return e.$v.form.password.$touch()}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),s("p",[s("router-link",{attrs:{to:{name:"ObtainResetPasswordLink"}}},[e._v("Odzyskaj hasło")])],1),s("v-btn",{attrs:{color:"primary",loading:e.loading,disabled:e.disabled},on:{click:e.loginUser}},[e._v("Zaloguj")])],1)],1)],1)],1)],1)],1)],1)},me=[],he=s("b5ae"),fe={data:function(){return{loading:!1,disabled:!1,snackbar:{show:!1,color:"",message:""},form:{username:"",password:""}}},validations:{form:{username:{required:he["required"]},password:{required:he["required"]}}},methods:{loginUser:function(e){var t=this;if(e.preventDefault(),this.$v.$touch(),this.$v.$invalid)return this.snackbar.message="Nie podano wszystkich danych logowania",this.snackbar.color="warning",void(this.snackbar.show=!0);this.loading=!0,this.$store.dispatch("auth/loginUser",this.form).then((function(e){if(t.loading=!1,void 0===e.data||200!==e.data.status)return t.snackbar.message=e.message,t.snackbar.color="error",void(t.snackbar.show=!0);t.disabled=!0,t.snackbar.message="Pomyslnie zalogowano. Nastąpi przekierowanie",t.snackbar.color="success",t.snackbar.show=!0,setTimeout((function(){t.$router.push("/")}),2e3)}))}},computed:{usernameRules:function(){var e=[];return this.$v.form.username.$dirty?(!this.$v.form.username.required&&e.push("Nie podano nazwy użytkownika"),e):e},passwordRules:function(){var e=[];return this.$v.form.password.$dirty?(!this.$v.form.password.required&&e.push("Nie podano hasła"),e):e}}},ge=fe,ke=s("b0af"),we=s("99d9"),be=s("4bd4"),_e=s("2db4"),ye=s("8654"),xe=Object(u["a"])(ge,pe,me,!1,null,"3f725224",null),Te=xe.exports;v()(xe,{VBtn:p["a"],VCard:ke["a"],VCardText:we["c"],VCardTitle:we["d"],VCol:x["a"],VContainer:T["a"],VForm:be["a"],VRow:C["a"],VSnackbar:_e["a"],VTextField:ye["a"]});var Ve=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-snackbar",{attrs:{top:"",color:e.snackbar.color},model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.message)+" "),s("v-btn",{attrs:{text:"",dark:""},on:{click:function(t){e.snackbar.show=!1}}},[e._v("Ok")])],1),s("v-container",[s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"6"}},[s("v-card",[s("v-card-title",[e._v("Rejestracja")]),s("v-card-text",[s("v-form",[s("v-text-field",{attrs:{type:"text","error-messages":e.firstnameRules,label:"Imię",required:"",outlined:""},on:{input:function(t){return e.$v.form.firstname.$touch()},blur:function(t){return e.$v.form.firstname.$touch()}},model:{value:e.form.firstname,callback:function(t){e.$set(e.form,"firstname",t)},expression:"form.firstname"}}),s("v-text-field",{attrs:{type:"text","error-messages":e.lastnameRules,label:"Nazwisko",required:"",outlined:""},on:{input:function(t){return e.$v.form.lastname.$touch()},blur:function(t){return e.$v.form.lastname.$touch()}},model:{value:e.form.lastname,callback:function(t){e.$set(e.form,"lastname",t)},expression:"form.lastname"}}),s("v-text-field",{attrs:{type:"text","error-messages":e.usernameRules,label:"Nazwa użytkownika",required:"",outlined:""},on:{input:function(t){return e.$v.form.username.$touch()},blur:function(t){return e.$v.form.username.$touch()}},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),s("v-text-field",{attrs:{type:"email","error-messages":e.emailRules,label:"Email",required:"",outlined:""},on:{input:function(t){return e.$v.form.email.$touch()},blur:function(t){return e.$v.form.email.$touch()}},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),s("v-text-field",{attrs:{type:"password","error-messages":e.passwordRules,label:"Hasło",required:"",outlined:""},on:{input:function(t){return e.$v.form.password.$touch()},blur:function(t){return e.$v.form.password.$touch()}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),s("v-text-field",{attrs:{type:"password","error-messages":e.passwordRepeatRules,label:"Powtórz hasło",required:"",outlined:""},on:{input:function(t){return e.$v.form.passwordRepeat.$touch()},blur:function(t){return e.$v.form.passwordRepeat.$touch()}},model:{value:e.form.passwordRepeat,callback:function(t){e.$set(e.form,"passwordRepeat",t)},expression:"form.passwordRepeat"}}),s("v-btn",{staticClass:"ma-0",attrs:{color:"primary",loading:e.loading},on:{click:e.registerUser}},[e._v("Utwórz konto")])],1)],1)],1)],1)],1)],1)],1)},Ce=[],ze=he["helpers"].regex("polishAlpha",/^[a-zA-Z\u0105\u0104\u0107\u0106\u0119\u0118\u0142\u0141\u0144\u0143\u00f3\u00d3\u015b\u015a\u017a\u0179\u017c\u017b]*$/),Se={data:function(){return{userTypes:[{value:"Student",text:"Student"},{value:"Teacher",text:"Nauczyciel"}],loading:!1,snackbar:{show:!1,color:"",message:""},form:{firstname:"",lastname:"",username:"",email:"",password:"",passwordRepeat:"",userType:"Student"}}},validations:{form:{firstname:{required:he["required"],polishAlpha:ze},lastname:{required:he["required"],polishAlpha:ze},username:{required:he["required"],alphaNum:he["alphaNum"],minLength:Object(he["minLength"])(3)},email:{required:he["required"],email:he["email"]},password:{required:he["required"],minLength:Object(he["minLength"])(8)},passwordRepeat:{required:he["required"],sameAsPassword:Object(he["sameAs"])("password")},userType:{required:he["required"]}}},methods:{registerUser:function(e){var t=this;if(e.preventDefault(),this.$v.$touch(),this.$v.$invalid)return this.snackbar.color="warning",this.snackbar.show=!0,void(this.snackbar.message="Niepoprawnie wypelniony formularz");this.loading=!0,console.log("Username in component: "+this.form.username),this.$store.dispatch("auth/createUser",this.form).then((function(e){t.loading=!1,console.log(e),console.log(e.status),200===e.status?(t.snackbar.color="success",t.snackbar.show=!0,t.snackbar.message=e.data.message+". Nastapi przekierowanie do strony logowania",setTimeout((function(){t.$router.push("/login")}),2e3)):(t.snackbar.color="warning",t.snackbar.show=!0,t.snackbar.message=e.data.message),console.log(e)}))}},computed:{firstnameRules:function(){var e=[];return this.$v.form.firstname.$dirty?(!this.$v.form.firstname.required&&e.push("Pole jest wymagane"),!this.$v.form.firstname.polishAlpha&&e.push("Imię może składać się tylko ze znaków alfabetu"),e):e},lastnameRules:function(){var e=[];return this.$v.form.lastname.$dirty?(!this.$v.form.lastname.required&&e.push("Nazwisko jest wymagane"),!this.$v.form.lastname.polishAlpha&&e.push("Nazwisko może składać się tylko ze znaków alfabetu"),e):e},usernameRules:function(){var e=[];return this.$v.form.username.$dirty?(!this.$v.form.username.required&&e.push("Nazwa użytkownika jest wymagana"),!this.$v.form.username.alphaNum&&e.push("Nazwa użytkownika może składać się tylko ze znaków alfanumerycznych"),!this.$v.form.username.minLength&&e.push("Nazwa użytkownika musi składać się conajmniej z 3 znaków"),e):e},emailRules:function(){var e=[];return this.$v.form.email.$dirty?(!this.$v.form.email.required&&e.push("Adres email jest wymagany"),!this.$v.form.email.email&&e.push("Niepoprawny adres email"),e):e},passwordRules:function(){var e=[];return this.$v.form.password.$dirty?(!this.$v.form.password.required&&e.push("Hasło jest wymagane"),!this.$v.form.password.minLength&&e.push("Hasło musi składać się conajmniej z 8 znaków"),e):e},passwordRepeatRules:function(){var e=[];return this.$v.form.passwordRepeat.$dirty?(!this.$v.form.passwordRepeat.required&&e.push("Wprowadź ponownie hasło"),!this.$v.form.passwordRepeat.sameAsPassword&&e.push("Hasła się różnią"),e):e}}},Re=Se,$e=Object(u["a"])(Re,Ve,Ce,!1,null,"26bff53d",null),Le=$e.exports;v()($e,{VBtn:p["a"],VCard:ke["a"],VCardText:we["c"],VCardTitle:we["d"],VCol:x["a"],VContainer:T["a"],VForm:be["a"],VRow:C["a"],VSnackbar:_e["a"],VTextField:ye["a"]});var Ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-snackbar",{attrs:{top:"",color:e.snackbar.color,timeout:0},model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.message)+" "),s("v-btn",{attrs:{text:"",dark:""},on:{click:function(t){e.snackbar.show=!1}}},[e._v("Ok")])],1),s("v-container",[s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"6"}},[s("v-card",[s("v-card-title",[e._v(" Podaj email do odzyskania hasla ")]),s("v-card-text",[s("v-form",[s("v-text-field",{attrs:{type:"email",label:"Email",outlined:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),s("v-btn",{attrs:{color:"primary",loading:e.loading,disabled:e.loading},on:{click:e.sendObtainLinkRequest}},[e._v("Wyślij")])],1)],1)],1)],1)],1)],1)],1)},je=[],Ue={data:function(){return{loading:!1,snackbar:{show:!1,color:"",message:""},form:{email:""}}},methods:{sendObtainLinkRequest:function(e){var t=this;e.preventDefault(),this.$v.$invalid?console.log("Niepoprawnie wypelnione pole 'email'"):(this.loading=!0,this.$store.dispatch("auth/obtainResetPasswordLink",this.form).then((function(e){t.loading=!1,200===e.status?(t.snackbar.color="success",t.snackbar.show=!0,t.snackbar.message=e.data.message,t.form.email=""):(t.snackbar.color="warning",t.snackbar.show=!0,t.snackbar.message=e.data.message),console.log(e)})).catch((function(e){console.log(e)})))}},validations:{form:{email:{required:he["required"],email:he["email"]}}}},De=Ue,Ae=Object(u["a"])(De,Ee,je,!1,null,null,null),Ne=Ae.exports;v()(Ae,{VBtn:p["a"],VCard:ke["a"],VCardText:we["c"],VCardTitle:we["d"],VCol:x["a"],VContainer:T["a"],VForm:be["a"],VRow:C["a"],VSnackbar:_e["a"],VTextField:ye["a"]});var Ie=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-snackbar",{attrs:{top:"",color:e.snackbar.color,timeout:0},model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.message)+" "),s("v-btn",{attrs:{text:"",dark:""},on:{click:function(t){e.snackbar.show=!1}}},[e._v("Ok")])],1),s("v-container",[e.loading?s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"1"}},[s("v-progress-circular",{attrs:{indeterminate:"",color:"primary",size:50}})],1)],1):s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"7"}},[200===e.response_status_code?s("v-card",[s("v-card-title",[e._v(e._s(e.response_message)+" dla konta: "+e._s(e.email))]),s("v-card-text",[s("v-form",[s("v-text-field",{attrs:{type:"password",label:"Nowe haslo",outlined:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),s("v-text-field",{attrs:{type:"password",label:"Powtórz nowe haslo",outlined:""},model:{value:e.form.passwordRepeat,callback:function(t){e.$set(e.form,"passwordRepeat",t)},expression:"form.passwordRepeat"}}),s("v-btn",{attrs:{color:"primary",loading:e.sendButtonLoading,disabled:e.sendButtonLoading},on:{click:e.sendChangePasswordRequest}},[e._v("Zapisz hasło")])],1)],1)],1):[400,406,500].includes(e.response_status_code)?s("v-card",[s("v-card-title",[e._v(" "+e._s(e.response_message)+" ")])],1):e._e()],1)],1)],1)],1)},Pe=[],Fe={data:function(){return{loading:!0,sendButtonLoading:!1,response_status_code:"",response_message:"",email:"",snackbar:{show:!1,color:"",message:""},form:{password:"",passwordRepeat:""}}},created:function(){var e=this,t=this.$route.params.hash_string;this.$store.dispatch("auth/verifyResetPasswordHash",t).then((function(t){e.loading=!1,e.response_status_code=t.status,e.response_message=t.data.message,200===t.status&&(e.email=t.data.email)})).catch((function(e){console.log(e)}))},methods:{sendChangePasswordRequest:function(){var e=this;if(this.$v.$invalid)return this.snackbar.color="warning",this.snackbar.show=!0,void(this.snackbar.message="Niepoprawnie wypelniony formularz");this.sendButtonLoading=!0,this.form.hash_string=this.$route.params.hash_string,this.$store.dispatch("auth/setNewPassword",this.form).then((function(t){e.sendButtonLoading=!1,200===t.status?(e.snackbar.color="success",e.snackbar.message=t.data.message+". Nastapi przekierowanie do strony logowania",setTimeout((function(){e.$router.push("/login")}),2e3)):(e.snackbar.color="warning",e.snackbar.message=t.data.message),e.snackbar.show=!0})).catch((function(t){e.sendButtonLoading=!1}))}},validations:{form:{password:{required:he["required"],minLength:Object(he["minLength"])(8)},passwordRepeat:{required:he["required"],sameAsPassword:Object(he["sameAs"])("password")}}}},qe=Fe,Oe=s("490a"),Ge=Object(u["a"])(qe,Ie,Pe,!1,null,null,null),Me=Ge.exports;v()(Ge,{VBtn:p["a"],VCard:ke["a"],VCardText:we["c"],VCardTitle:we["d"],VCol:x["a"],VContainer:T["a"],VForm:be["a"],VProgressCircular:Oe["a"],VRow:C["a"],VSnackbar:_e["a"],VTextField:ye["a"]});var He=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-card",[s("v-card-title",["GroupListing"===e.currentRoute.name?s("v-row",[s("v-col",[e._v("Moje grupy")]),s("v-spacer"),"Teacher"===e.userType.name?s("v-col",[s("v-btn",{attrs:{color:"success",to:{name:"GroupCreator"}}},[s("v-icon",[e._v("mdi-plus")])],1)],1):e._e()],1):e._e()],1),s("v-card-text",[s("router-view")],1)],1)],1)},We=[],Be={data:function(){return{}},created:function(){this.$router.push({name:"GroupListing"})},watch:{$route:function(e,t){"MyGroups"===e.name&&this.$router.push({name:"GroupListing"})}},computed:{currentRoute:function(){return this.$route},userType:function(){return this.$store.state.auth.profile.userType}}},Ze=Be,Je=Object(u["a"])(Ze,He,We,!1,null,"6c5a572b",null),Ke=Je.exports;v()(Je,{VBtn:p["a"],VCard:ke["a"],VCardText:we["c"],VCardTitle:we["d"],VCol:x["a"],VIcon:re["a"],VRow:C["a"],VSpacer:h["a"]});var Qe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-snackbar",{attrs:{top:"",color:e.snackbar.color},model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.message)+" "),s("v-btn",{attrs:{text:"",dark:""},on:{click:function(t){e.snackbar.show=!1}}},[e._v("Ok")])],1),s("v-form",[s("v-container",[s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"6"}},[s("v-card",[s("v-card-title",[e._v("Tworzenie grupy")]),s("v-card-text",[s("v-text-field",{attrs:{type:"text",outlined:"",label:"Nazwa grupy",required:""},model:{value:e.form.groupName,callback:function(t){e.$set(e.form,"groupName",t)},expression:"form.groupName"}}),s("v-divider"),s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("h3",{staticClass:"text-center"},[e._v("Użytkownicy:")]),s("v-list",e._l(e.users,(function(t,a){return s("v-list-item",{key:"user-"+a},[s("v-list-item-content",[e._v(" "+e._s(t.first_name)+" "+e._s(t.last_name)+" ")]),s("v-list-item-action",[s("v-checkbox",{on:{change:function(t){return e.toggleUser(a,t)}},model:{value:e.usersList[a],callback:function(t){e.$set(e.usersList,a,t)},expression:"usersList[index]"}})],1)],1)})),1)],1),s("v-col",{attrs:{cols:"6"}},[s("h3",{staticClass:"text-center"},[e._v("Wybrani użytkownicy:")]),s("v-list",e._l(e.form.selectedUsers,(function(t,a){return s("v-list-item",{key:"user-"+a},[s("v-list-item-content",[e._v(" "+e._s(t.first_name)+" "+e._s(t.last_name)+" ")])],1)})),1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"mr-2",attrs:{color:"success",loading:e.loading},on:{click:e.createGroup}},[e._v("Utwórz")])],1)],1)],1)],1)],1)],1)],1)},Xe=[],Ye=(s("4de4"),s("d81d"),{data:function(){return{loading:!1,snackbar:{show:!1,color:"",message:""},usersList:[],form:{groupName:"",selectedUsers:[]}}},methods:{toggleUser:function(e,t){var s=this;this.usersList[e]?this.form.selectedUsers.push(this.users[e]):this.form.selectedUsers=this.form.selectedUsers.filter((function(t){return t!==s.users[e]}))},createGroup:function(e){var t=this;if(e.preventDefault(),""===this.form.groupName)return this.snackbar.message="Nie podano nazwy grupy",this.snackbar.color="warning",void(this.snackbar.show=!0);this.loading=!0,this.$store.dispatch("users/createGroup",this.form).then((function(e){t.loading=!1;var s="";s=void 0!==e.data&&200===e.status?"success":"error",t.snackbar.message=e.data.message,t.snackbar.color=s,t.snackbar.show=!0,200===e.status&&(t.form.groupName="",t.form.selectedUsers=[],t.usersList=t.usersList.map((function(e){return!1})))}))}},created:function(){var e=this;this.$store.dispatch("users/loadStudents").then((function(){console.log("Pobrano userow"),console.log(e.$store.state.users.users)})).catch((function(){console.log("Nie udalo sie pobrac userow")}))},computed:{users:function(){return this.$store.state.users.users}}}),et=Ye,tt=s("ac7c"),st=s("ce7e"),at=s("1800"),rt=Object(u["a"])(et,Qe,Xe,!1,null,"7b113d63",null),nt=rt.exports;v()(rt,{VBtn:p["a"],VCard:ke["a"],VCardActions:we["a"],VCardText:we["c"],VCardTitle:we["d"],VCheckbox:tt["a"],VCol:x["a"],VContainer:T["a"],VDivider:st["a"],VForm:be["a"],VList:ne["a"],VListItem:ie["a"],VListItemAction:at["a"],VListItemContent:le["a"],VRow:C["a"],VSnackbar:_e["a"],VSpacer:h["a"],VTextField:ye["a"]});var ot=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-row",[s("v-col",[s("v-form",[s("v-row",[s("v-col",{attrs:{cols:"4"}},[s("v-text-field",{attrs:{type:"text","append-icon":"mdi-pencil",label:"Nazwa grupy",required:""},model:{value:e.form.groupName,callback:function(t){e.$set(e.form,"groupName",t)},expression:"form.groupName"}})],1)],1),s("v-row",[s("v-col",[s("h3",[e._v("Członkowie grupy:")])]),s("v-col",{attrs:{cols:"1"}},[s("v-btn",{attrs:{small:"",color:"success",title:"Dodaj nowych użytkowników do grupy"},on:{click:function(t){return e.openDialog(t,e.addUsersContext)}}},[s("v-icon",[e._v("mdi-account-multiple-plus")])],1)],1),s("v-col",{attrs:{cols:"1"}},[s("v-btn",{attrs:{small:"",color:"error",title:"Usuń użytkowników z grupy"},on:{click:function(t){return e.openDialog(t,e.removeUsersContext)}}},[s("v-icon",[e._v("mdi-account-multiple-minus")])],1)],1)],1),s("v-row",[s("v-col",[s("v-list",e._l(e.contextGroup.users,(function(t,a){return s("v-list-item",{key:a},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-account")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(t.first_name)+" "+e._s(t.last_name))]),s("v-list-item-subtitle",[e._v(e._s(t.email))])],1)],1)})),1)],1),s("v-col",[s("h3",[e._v("Indeks zmian:")]),s("v-list",e._l(e.addUsersContext.selectedUsers,(function(t,a){return s("v-list-item",{key:a},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-account")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(t.first_name)+" "+e._s(t.last_name))]),s("v-list-item-subtitle",[e._v(e._s(t.email))])],1),s("v-list-item-action",[s("v-icon",{attrs:{color:"success",title:"Użytkownik wybrany do dodania do grupy"}},[e._v("mdi-plus")])],1)],1)})),1),s("v-list",e._l(e.removeUsersContext.selectedUsers,(function(t,a){return s("v-list-item",{key:a},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-account")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(e._s(t.first_name)+" "+e._s(t.last_name))]),s("v-list-item-subtitle",[e._v(e._s(t.email))])],1),s("v-list-item-action",[s("v-icon",{attrs:{color:"error",title:"Użytkownik wybrany do usuniecia z grupy"}},[e._v("mdi-minus")])],1)],1)})),1)],1)],1),s("v-row",[s("v-spacer"),s("v-col",{attrs:{cols:"3",align:"right"}},[s("v-btn",{attrs:{color:"primary"},on:{click:e.saveGroupChanges}},[e._v("Zapisz zmiany")])],1)],1),s("v-dialog",{attrs:{persistent:"",scrollable:"",width:"800"},model:{value:e.addUsersContext.showDialog,callback:function(t){e.$set(e.addUsersContext,"showDialog",t)},expression:"addUsersContext.showDialog"}},[s("v-card",[s("v-card-title",[e._v("Wybierz użytkowników do dodania:")]),s("v-card-text",[s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("h3",{staticClass:"text-center"},[e._v("Użytkownicy:")]),s("v-list",e._l(e.selectableUserArray,(function(t,a){return s("v-list-item",{key:"user-"+a},[s("v-list-item-content",[e._v(e._s(t.userData.first_name)+" "+e._s(t.userData.last_name))]),s("v-list-item-action",[s("v-checkbox",{on:{change:function(t){return e.toggleUser(t,a,e.addUsersContext)}},model:{value:t.selected,callback:function(s){e.$set(t,"selected",s)},expression:"selectableUserElem.selected"}})],1)],1)})),1)],1),s("v-col",{attrs:{cols:"6"}},[s("h3",{staticClass:"text-center"},[e._v("Wybrani użytkownicy:")]),s("v-list",e._l(e.addUsersContext.selectedUsers,(function(t,a){return s("v-list-item",{key:"user-"+a},[s("v-list-item-content",[e._v(e._s(t.first_name)+" "+e._s(t.last_name))])],1)})),1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{text:""},on:{click:function(t){return e.closeDialog(t,e.addUsersContext,!0)}}},[e._v("Wyczyść i wyjdź")]),s("v-btn",{attrs:{text:""},on:{click:function(t){return e.closeDialog(t,e.addUsersContext)}}},[e._v("Wybierz")])],1)],1)],1),s("v-dialog",{attrs:{persistent:"",scrollable:"",width:"800"},model:{value:e.removeUsersContext.showDialog,callback:function(t){e.$set(e.removeUsersContext,"showDialog",t)},expression:"removeUsersContext.showDialog"}},[s("v-card",[s("v-card-title",[e._v("Wybierz użytkowników do usunięcia:")]),s("v-card-text",[s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("h3",{staticClass:"text-center"},[e._v("Użytkownicy:")]),s("v-list",e._l(e.selectableUserArray,(function(t,a){return s("v-list-item",{key:"user-"+a},[s("v-list-item-content",[e._v(e._s(t.userData.first_name)+" "+e._s(t.userData.last_name))]),s("v-list-item-action",[s("v-checkbox",{on:{change:function(t){return e.toggleUser(t,a,e.removeUsersContext)}},model:{value:t.selected,callback:function(s){e.$set(t,"selected",s)},expression:"selectableUserElem.selected"}})],1)],1)})),1)],1),s("v-col",{attrs:{cols:"6"}},[s("h3",{staticClass:"text-center"},[e._v("Wybrani użytkownicy:")]),s("v-list",e._l(e.removeUsersContext.selectedUsers,(function(t,a){return s("v-list-item",{key:"user-"+a},[s("v-list-item-content",[e._v(e._s(t.first_name)+" "+e._s(t.last_name))])],1)})),1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{text:""},on:{click:function(t){return e.closeDialog(t,e.removeUsersContext,!0)}}},[e._v("Wyczyść i wyjdź")]),s("v-btn",{attrs:{text:""},on:{click:function(t){return e.closeDialog(t,e.removeUsersContext)}}},[e._v("Wybierz")])],1)],1)],1)],1)],1)],1)],1)},it=[],lt=(s("7db0"),s("4160"),s("159b"),{data:function(){return{contextGroup:{},selectableUserArray:[],addUsersContext:{showDialog:!1,selectedUsers:[]},removeUsersContext:{showDialog:!1,selectedUsers:[]},currentSelectedUser:null,form:{pk:"",oldName:"",groupName:"",usersToAdd:[],usersToRemove:[]}}},methods:{saveGroupChanges:function(e){var t=this;e.preventDefault(),""!==this.form.groupName?(this.form.usersToAdd=this.addUsersContext.selectedUsers,this.form.usersToRemove=this.removeUsersContext.selectedUsers,this.$store.dispatch("users/updateGroup",this.form).then((function(e){console.log(e);var s=e.data.message;alert(s),200===e.status&&(t.$store.dispatch("loadTasksWithExercisesAndTests"),t.$router.push({name:"GroupListing"}))})).catch((function(){console.log("Nie udalo sie zaktualizowac grupy"),alert("Nie udalo sie zaktualizowac grupy")}))):alert("Nie podano nazwy grupy")},toggleUser:function(e,t,s){var a=this;this.selectableUserArray[t].selected?s.selectedUsers.push(this.selectableUserArray[t].userData):s.selectedUsers=s.selectedUsers.filter((function(e){return e.pk!==a.selectableUserArray[t].userData.pk}))},openDialog:function(e,t){var s=[];s=t===this.addUsersContext?this.users:this.contextGroup.users,t.showDialog=!0,this.selectableUserArray=s.map((function(e){return{userData:e,selected:!1}})),this.selectableUserArray.forEach((function(e){var s=!0,a=!1,r=void 0;try{for(var n,o=t.selectedUsers[Symbol.iterator]();!(s=(n=o.next()).done);s=!0){var i=n.value;i.pk===e.userData.pk&&(e.selected=!0)}}catch(l){a=!0,r=l}finally{try{s||null==o.return||o.return()}finally{if(a)throw r}}}))},closeDialog:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.showDialog=!1,s&&(this.selectableUserArray.forEach((function(e){e.selected=!1})),t.selectedUsers=[])}},created:function(){var e=this;this.contextGroup=this.$store.state.users.groups.find((function(t){return t.name===e.$route.params.name})),this.form.pk=this.contextGroup.pk,this.form.groupName=this.contextGroup.name,this.form.oldName=this.contextGroup.name,this.$store.dispatch("users/loadStudents").then((function(){console.log("Pobrano userow"),console.log(e.$store.state.users.users)})).catch((function(){console.log("Nie udalo sie pobrac userow")}))},computed:{users:function(){var e=this,t=this.$store.state.users.groups.find((function(t){return t.name===e.$route.params.name}));return this.$store.state.users.users.filter((function(e){return!t.users.some((function(t){return e.username===t.username}))}))}}}),ct=lt,ut=s("169a"),dt=Object(u["a"])(ct,ot,it,!1,null,"f004c964",null),vt=dt.exports;v()(dt,{VBtn:p["a"],VCard:ke["a"],VCardActions:we["a"],VCardText:we["c"],VCardTitle:we["d"],VCheckbox:tt["a"],VCol:x["a"],VDialog:ut["a"],VForm:be["a"],VIcon:re["a"],VList:ne["a"],VListItem:ie["a"],VListItemAction:at["a"],VListItemContent:le["a"],VListItemIcon:ce["a"],VListItemSubtitle:le["b"],VListItemTitle:le["c"],VRow:C["a"],VSpacer:h["a"],VTextField:ye["a"]});var pt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-row",[s("v-col",[s("v-btn",{staticClass:"d-inline",attrs:{icon:""},on:{click:function(t){e.showSearchField=!e.showSearchField}}},[s("v-icon",[e._v("mdi-magnify")])],1),s("v-expandable-x-transition",[e.showSearchField?s("v-text-field",{staticClass:"d-inline-flex ma-0 pa-0",staticStyle:{width:"20%",position:"absolute"},attrs:{placeholder:"Podaj nazwe grupy"},model:{value:e.searchForName,callback:function(t){e.searchForName=t},expression:"searchForName"}}):e._e()],1)],1)],1),s("v-row",e._l(e.groups,(function(t){return s("v-col",{key:t.pk,staticClass:"pa-1",attrs:{cols:"3"}},[s("v-card",{attrs:{tile:""}},[s("v-hover",{scopedSlots:e._u([{key:"default",fn:function(a){var r=a.hover;return[s("v-card-title",{class:r?"title-link":"",on:{click:function(s){return e.showGroupDetails(t)}}},[e._v(e._s(t.name))])]}}],null,!0)}),s("v-card-subtitle",[e._v("Liczba czlonkow: "),s("v-icon",{attrs:{small:""}},[e._v("mdi-account")]),e._v(" "+e._s(t.users.length)+" "),s("br"),e._v(" Aktywne zadania: "),s("v-icon",{attrs:{small:""}},[e._v("mdi-calendar")]),e._v(" "+e._s(t.activeTasks.length)+" ")],1)],1)],1)})),1)],1)},mt=[],ht=(s("caad"),s("2532"),{components:{},data:function(){return{showSearchField:!1,searchForName:""}},methods:{showGroupDetails:function(e){this.$router.push({name:"GroupDetails",params:{name:e.name,group:e}})}},computed:{groups:{get:function(){var e=this;return""===this.searchForName?this.$store.state.users.groups:this.$store.state.users.groups.filter((function(t){return t.name.includes(e.searchForName)}))},set:function(e){}},userType:{get:function(){return this.$store.state.auth.profile.userType},set:function(e){}}},created:function(){var e=this;this.$store.dispatch("users/loadGroups").then((function(){e.groups=e.$store.state.users.groups})).catch((function(e){console.log(e),console.log("Nie udalo sie pobrac grup"),alert("Nie udalo sie zwrocic grup")}))}}),ft=ht,gt=(s("4cdf"),s("ce87")),kt=Object(u["a"])(ft,pt,mt,!1,null,"b8ff61f6",null),wt=kt.exports;v()(kt,{VBtn:p["a"],VCard:ke["a"],VCardSubtitle:we["b"],VCardTitle:we["d"],VCol:x["a"],VHover:gt["a"],VIcon:re["a"],VRow:C["a"],VTextField:ye["a"]});var bt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-row",[s("v-col",{attrs:{cols:"4"}},[s("h3",[e._v(e._s(e.group.name))])]),s("v-spacer"),"Teacher"===e.userType.name?s("v-col",{attrs:{cols:"2"}},[s("v-btn",{staticClass:"mr-4",attrs:{color:"success",small:""},on:{click:e.editGroup}},[s("v-icon",[e._v("mdi-pencil")])],1),s("v-btn",{attrs:{color:"error",small:""},on:{click:e.deleteGroup}},[s("v-icon",[e._v("mdi-delete")])],1)],1):e._e()],1),s("v-divider"),s("v-row",[s("v-col",[s("h3",[e._v("Członkowie:")])])],1),s("v-row",[s("v-col",[s("v-list",e._l(e.group.users,(function(t,a){return s("v-list-item",{key:a},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-account")])],1),s("v-list-item-content",[s("v-list-item-title",{on:{click:function(s){"Teacher"===e.userType.name&&e.inspectUser(t.pk)}}},[s("v-hover",{scopedSlots:e._u([{key:"default",fn:function(a){var r=a.hover;return[s("span",{class:r&&"Teacher"===e.userType.name?"title-link":""},[e._v(e._s(t.first_name)+" "+e._s(t.last_name))])]}}],null,!0)})],1),s("v-list-item-subtitle",[e._v(e._s(t.email))])],1)],1)})),1)],1)],1),s("v-divider"),s("v-row",[s("v-col",[s("h3",[e._v("Aktywne zadania:")])])],1),e.group.activeTasks.length>0?s("span",[s("v-row",[s("v-col",[s("v-list",e._l(e.group.activeTasks,(function(t,a){return s("v-list-item",{key:a},["Exercise"===t.taskType.name?s("v-list-item-icon",[s("v-icon",[e._v("mdi-text-box")])],1):s("v-list-item-icon",[s("v-icon",[e._v("mdi-text-box-multiple")])],1),s("v-list-item-content",[s("v-list-item-title",{on:{click:function(s){return e.showTaskDetails(t)}}},[s("v-hover",{scopedSlots:e._u([{key:"default",fn:function(a){var r=a.hover;return[s("span",{class:r?"title-link":""},[e._v(e._s(t.title))])]}}],null,!0)})],1)],1)],1)})),1)],1)],1)],1):s("span",[s("v-row",[s("v-col",[e._v("Brak aktywnych zadan")])],1)],1),s("v-divider"),e.group.archivedTasks.length>0?s("span",[s("v-row",[s("v-col",[s("h3",[e._v("Zadania zarchiwizowane:")])])],1),s("v-row",[s("v-col",[s("v-list",e._l(e.group.archivedTasks,(function(t,a){return s("v-list-item",{key:a},["Exercise"===t.taskType.name?s("v-list-item-icon",[s("v-icon",[e._v("mdi-file-document-box")])],1):s("v-list-item-icon",[s("v-icon",[e._v("mdi-file-document-box-multiple")])],1),s("v-list-item-content",[s("v-list-item-title",{on:{click:function(s){return e.showTaskDetails(t)}}},[s("v-hover",{scopedSlots:e._u([{key:"default",fn:function(a){var r=a.hover;return[s("span",{class:r?"title-link":""},[e._v(e._s(t.title))])]}}],null,!0)})],1)],1)],1)})),1)],1)],1)],1):e._e()],1)},_t=[],yt={components:{},methods:{editGroup:function(){var e=this.$route.params.name;this.$router.push({name:"GroupEditor",params:{name:e}})},deleteGroup:function(){var e=this,t=confirm("Czy na pewno chcesz usunąć grupę?");t&&(console.log(this.group),this.$store.dispatch("users/deleteGroup",this.group.pk).then((function(){e.$router.push({name:"GroupListing"})})))},showTaskDetails:function(e){this.$router.push({name:"TaskDetails",params:{pk:e.pk}})},inspectUser:function(e){this.$router.push({name:"UserData",params:{pk:e}})}},computed:{group:function(){var e=this,t=this.$store.state.users.groups.find((function(t){return t.name===e.$route.params.name}));return t},userType:function(){return this.$store.state.auth.profile.userType}}},xt=yt,Tt=(s("0aa5"),Object(u["a"])(xt,bt,_t,!1,null,"5ff9b8aa",null)),Vt=Tt.exports;v()(Tt,{VBtn:p["a"],VCol:x["a"],VDivider:st["a"],VHover:gt["a"],VIcon:re["a"],VList:ne["a"],VListItem:ie["a"],VListItemContent:le["a"],VListItemIcon:ce["a"],VListItemSubtitle:le["b"],VListItemTitle:le["c"],VRow:C["a"],VSpacer:h["a"]});var Ct=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-card",[s("v-card-title",["TaskListing"===e.currentRoute.name?s("v-row",[s("v-col",[e._v("Moje zadania")]),s("v-spacer"),"Teacher"===e.userType.name?s("v-col",[s("v-btn",{attrs:{color:"success",to:{name:"TaskCreator"}}},[s("v-icon",[e._v("mdi-plus")])],1)],1):e._e()],1):e._e()],1),s("v-card-text",[s("router-view")],1)],1)],1)},zt=[],St={data:function(){return{solutions:[]}},created:function(){var e=this;this.$store.dispatch("tasks/getAllTasks"),this.$store.dispatch("tasks/getAllExercises"),this.$store.dispatch("tasks/getAllSolutions").then((function(t){e.solutions=t.data})),"MyTasks"===this.$route.name&&this.$router.push({name:"TaskListing"})},watch:{$route:function(e,t){"MyTasks"===e.name&&this.$router.push({name:"TaskListing"})}},computed:{currentRoute:function(){return this.$route},userType:function(){return this.$store.state.auth.profile.userType}}},Rt=St,$t=Object(u["a"])(Rt,Ct,zt,!1,null,"deb78758",null),Lt=$t.exports;v()($t,{VBtn:p["a"],VCard:ke["a"],VCardText:we["c"],VCardTitle:we["d"],VCol:x["a"],VIcon:re["a"],VRow:C["a"],VSpacer:h["a"]});var Et=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-row",[s("v-col",[s("v-btn",{staticClass:"d-inline",attrs:{icon:""},on:{click:function(t){e.showSearchField=!e.showSearchField}}},[s("v-icon",[e._v("mdi-magnify")])],1),s("v-expandable-x-transition",[e.showSearchField?s("v-text-field",{staticClass:"d-inline-flex ma-0 pa-0",staticStyle:{width:"20%",position:"absolute"},attrs:{placeholder:"Podaj nazwe zadania"},model:{value:e.searchForName,callback:function(t){e.searchForName=t},expression:"searchForName"}}):e._e()],1)],1)],1),"Student"===e.userType.name?s("span",[s("v-row",[s("v-col",[e._v(" Aktywne zadania: ")])],1),s("v-row",e._l(e.activeTasks,(function(t,a){return s("v-col",{key:"activeTask-"+a,attrs:{cols:"4"}},[s("v-card",{attrs:{tile:""}},[s("v-hover",{scopedSlots:e._u([{key:"default",fn:function(a){var r=a.hover;return[s("v-card-title",{class:r?"title-link":"",attrs:{link:""},on:{click:function(s){return e.showTaskDetails(t)}}},[e._v(" "+e._s(t.title))])]}}],null,!0)}),s("v-card-subtitle",[e._v(" Typ: "+e._s(e.polishTaskTypesNames[t.taskType.name])+" "),s("br"),e._v(" Rozwiązanie: "+e._s(t.solutionType.name)+" ")]),s("v-card-text",{staticClass:"text--primary"},[e._v(" Przypisane do: "+e._s(t.assigned_to.name)+" "),s("br"),e._v(" Rozwiązanie: "),e.hasSolution(t)?s("span",[e._v(" Rozwiazanie zapisane "),s("v-icon",{attrs:{color:"success",small:""}},[e._v("mdi-check")])],1):s("span",[e._v(" Oczekuje na rozwiązanie "),s("v-icon",{attrs:{color:"info",small:""}},[e._v("mdi-pencil")])],1)])],1)],1)})),1)],1):s("span",[s("v-row",[s("v-col",[e._v(" Zadania w toku: ")])],1),s("v-row",e._l(e.activeTasks,(function(t,a){return s("v-col",{key:"activeTask-"+a,attrs:{cols:"4"}},[s("v-card",{attrs:{tile:""}},[s("v-hover",{scopedSlots:e._u([{key:"default",fn:function(a){var r=a.hover;return[s("v-card-title",{class:r?"title-link":"",attrs:{link:""},on:{click:function(s){return e.showTaskDetails(t)}}},[e._v(" "+e._s(t.title))])]}}],null,!0)}),s("v-card-subtitle",[e._v(" Typ: "+e._s(e.polishTaskTypesNames[t.taskType.name])+" "),s("br"),e._v(" Rozwiązanie: "+e._s(t.solutionType.name)+" ")]),s("v-card-text",{staticClass:"text--primary"},[e._v(" Przypisane do: "+e._s(t.assigned_to.name)+" "),s("br"),e._v(" Rozwiazania: "+e._s(t.solution.length)+" / "+e._s(t.assigned_to.users.length)+" "),s("v-icon",{attrs:{small:"",color:"primary"}},[e._v("mdi-account")])],1)],1)],1)})),1)],1),s("v-row",[s("v-col",[e._v(" Zadania do oceny: ")])],1),"Student"===e.userType.name?s("span",[s("v-row",e._l(e.inactiveTasks,(function(t,a){return s("v-col",{key:"inactiveTask-"+a,attrs:{cols:"4"}},[s("v-card",{attrs:{tile:""}},[s("v-hover",{scopedSlots:e._u([{key:"default",fn:function(a){var r=a.hover;return[s("v-card-title",{class:r?"title-link":"",attrs:{link:""},on:{click:function(s){return e.showTaskDetails(t)}}},[e._v(" "+e._s(t.title))])]}}],null,!0)}),s("v-card-subtitle",[e._v(" Typ: "+e._s(e.polishTaskTypesNames[t.taskType.name])+" "),s("br"),e._v(" Rozwiązanie: "+e._s(t.solutionType.name)+" ")]),s("v-card-text",{staticClass:"text--primary"},[e._v(" Przypisane do: "+e._s(t.assigned_to.name)+" "),s("br"),e._v(" Rozwiązanie: "),e.hasSolution(t)?s("span",[e._v(" Rozwiazanie zapisane "),s("v-icon",{attrs:{color:"success",small:""}},[e._v("mdi-check")])],1):s("span",[e._v(" Nie udzielono odpowiedzi "),s("v-icon",{attrs:{color:"warning",small:""}},[e._v("mdi-exclamation")])],1)])],1)],1)})),1)],1):s("v-row",e._l(e.inactiveTasks,(function(t,a){return s("v-col",{key:"inactiveTask-"+a,attrs:{cols:"4"}},[s("v-card",{attrs:{tile:""}},[s("v-hover",{scopedSlots:e._u([{key:"default",fn:function(a){var r=a.hover;return[s("v-card-title",{class:r?"title-link":"",attrs:{link:""},on:{click:function(s){return e.showTaskDetails(t)}}},[e._v(" "+e._s(t.title))])]}}],null,!0)}),s("v-card-subtitle",[e._v(" Typ: "+e._s(e.polishTaskTypesNames[t.taskType.name])+" "),s("br"),e._v(" Rozwiązanie: "+e._s(t.solutionType.name)+" ")]),s("v-card-text",{staticClass:"text--primary"},[e._v(" Przypisane do: "+e._s(t.assigned_to.name)+" "),s("br"),e._v(" Rozwiazania: "+e._s(t.solution.length)+" / "+e._s(t.assigned_to.users.length)+" "),s("v-icon",{attrs:{small:"",color:"primary"}},[e._v("mdi-account")])],1)],1)],1)})),1)],1)},jt=[],Ut={data:function(){return{polishTaskTypesNames:{},showSearchField:!1,searchForName:""}},created:function(){this.$store.dispatch("tasks/getAllTasks"),this.polishTaskTypesNames["Exercise"]="Ćwiczenie",this.polishTaskTypesNames["Test"]="Kolokwium"},methods:{filterTasksByName:function(e){var t=this;return""===this.searchForName?e:e.filter((function(e){return e.title.includes(t.searchForName)||e.assigned_to.name.includes(t.searchForName)}))},showTaskDetails:function(e){this.$router.push({name:"TaskDetails",params:{pk:e.pk}})},hasSolution:function(e){var t=this,s=e.solution.find((function(e){return e.user.username===t.$store.state.auth.username}));return void 0!==s}},computed:{activeTasks:function(){var e=this.$store.state.tasks.tasks.filter((function(e){return e.isActive}));return this.filterTasksByName(e)},inactiveTasks:function(){var e=this.$store.state.tasks.tasks.filter((function(e){return!e.isActive&&!e.isRated}));return this.filterTasksByName(e)},endedTasks:function(){var e=this.$store.state.tasks.tasks.filter((function(e){return!e.isActive&&e.isRated}));return this.filterTasksByName(e)},userType:function(){return this.$store.state.auth.profile.userType}}},Dt=Ut,At=(s("ebfc"),Object(u["a"])(Dt,Et,jt,!1,null,"21b50b12",null)),Nt=At.exports;v()(At,{VBtn:p["a"],VCard:ke["a"],VCardSubtitle:we["b"],VCardText:we["c"],VCardTitle:we["d"],VCol:x["a"],VHover:gt["a"],VIcon:re["a"],VRow:C["a"],VTextField:ye["a"]});var It=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-snackbar",{attrs:{top:"",color:e.snackbar.color},model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.message)+" "),s("v-btn",{attrs:{text:"",dark:""},on:{click:function(t){e.snackbar.show=!1}}},[e._v("Ok")])],1),s("v-form",[s("v-container",[s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"6"}},[s("v-card",[s("v-card-title",[e._v(" Tworzenie zadania ")]),s("v-card-text",[s("v-text-field",{attrs:{outlined:"",type:"text",label:"Tytul",required:""},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}}),s("v-divider",{staticClass:"mb-5"}),s("v-row",[s("v-col",[s("v-select",{attrs:{outlined:"",items:e.taskTypes,label:"Typ"},model:{value:e.form.taskType,callback:function(t){e.$set(e.form,"taskType",t)},expression:"form.taskType"}})],1),s("v-col",[s("v-select",{attrs:{outlined:"",items:e.allowed_solution_types,label:"Sposób rozwiązania zadania"},model:{value:e.form.solutionType,callback:function(t){e.$set(e.form,"solutionType",t)},expression:"form.solutionType"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-select",{attrs:{outlined:"",items:e.exercises,label:"Zadanie"},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v(" "+e._s(t.item.title)+" ")]}},{key:"selection",fn:function(t){return[e._v(" "+e._s(t.item.title)+" ")]}}]),model:{value:e.form.exercise,callback:function(t){e.$set(e.form,"exercise",t)},expression:"form.exercise"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-select",{attrs:{outlined:"",items:e.groups,label:"Przypisz do"},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v(" "+e._s(t.item.name)+" ")]}},{key:"selection",fn:function(t){return[e._v(" "+e._s(t.item.name)+" ")]}}]),model:{value:e.form.group,callback:function(t){e.$set(e.form,"group",t)},expression:"form.group"}})],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"mr-2",attrs:{color:"success",loading:e.loading},on:{click:e.createTask}},[e._v("Utwórz")])],1)],1)],1)],1)],1)],1)],1)},Pt=[],Ft={data:function(){return{loading:!1,snackbar:{show:!1,color:"",message:""},taskTypes:[{value:"Exercise",text:"Ćwiczenie"},{value:"Test",text:"Kolokwium"}],solutionTypes:[],selectedGroup:"",form:{title:"",taskType:"",solutionType:{},exercise:"",group:{}}}},methods:{createTask:function(e){var t=this;for(var s in e.preventDefault(),this.form)if(""===this.form[s])return this.snackbar.message="Nie podano wszystkich danych",this.snackbar.color="warning",void(this.snackbar.show=!0);this.loading=!0,console.log(this.form),this.$store.dispatch("tasks/createTask",this.form).then((function(e){t.loading=!1;var s="";s=200===e.status?"success":"error",t.snackbar.message=e.data.message,t.snackbar.color=s,t.snackbar.show=!0,200===e.status&&(t.form={title:"",taskType:"",solutionType:{},exercise:"",group:{}})}))}},computed:{exercises:function(){return"Exercise"===this.form.taskType?this.$store.state.tasks.exercises:this.$store.state.tasks.tests},groups:function(){return this.$store.state.users.groups},allowed_solution_types:function(){return"Test"===this.form.taskType?this.solutionTypes.filter((function(e){return"Editor"===e.value})):this.solutionTypes}},created:function(){var e=this;this.$store.dispatch("users/loadStudents").then((function(){console.log("Pobrano userow")})).catch((function(){console.log("Nie udalo sie pobrac userow")})),this.$store.dispatch("users/loadGroups").then((function(){console.log("Pobrano grupy")})).catch((function(){console.log("Nie udalo sie pobrac grup")})),this.$store.dispatch("tasks/getAllExercises").then((function(){console.log("Pobrano cwiczenia")})).catch((function(){console.log("Nie udalo sie pobrac cwiczen")})),this.$store.dispatch("tasks/getSolutionTypesAll").then((function(t){console.log(t),e.solutionTypes=t.map((function(e){var t=e.name,s="";return s="File"===e.name?"Plik":"Editor"===e.name?"Edytor":"Repozytorium GitHub",{value:t,text:s}}))})).catch((function(){console.log("Nie udalo sie pobrac rodzajow rozwiazan")}))}},qt=Ft,Ot=s("b974"),Gt=Object(u["a"])(qt,It,Pt,!1,null,"d3f5d522",null),Mt=Gt.exports;v()(Gt,{VBtn:p["a"],VCard:ke["a"],VCardActions:we["a"],VCardText:we["c"],VCardTitle:we["d"],VCol:x["a"],VContainer:T["a"],VDivider:st["a"],VForm:be["a"],VRow:C["a"],VSelect:Ot["a"],VSnackbar:_e["a"],VSpacer:h["a"],VTextField:ye["a"]});var Ht=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-snackbar",{attrs:{top:"",color:e.snackbar.color},model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.message)+" "),s("v-btn",{attrs:{text:"",dark:""},on:{click:function(t){e.snackbar.show=!1}}},[e._v("Ok")])],1),s("v-container",[s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"8"}},[s("v-card",[s("v-card-title",[s("v-row",[s("v-col",{attrs:{cols:"8"}},[e._v(e._s(e.task.title))]),s("v-spacer"),"Student"===e.userType.name&&e.task.isActive?s("v-col",{attrs:{cols:"2"}},["Exercise"===e.task.taskType.name?s("div",["File"===e.task.solutionType.name?s("div",[e.hasSolution?s("span",[s("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-btn",e._g({attrs:{rounded:"",color:"primary"}},a),[s("v-icon",[e._v("mdi-menu")])],1)]}}],null,!1,3842514395)},[s("v-list",{attrs:{nav:""}},[s("v-list-item",{on:{click:e.showSolution}},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-magnify")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v("Podgląd")])],1)],1),s("v-list-item",{on:{click:function(t){e.fileSendDialog=!0}}},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-file")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v("Przeslij ponownie")])],1)],1)],1)],1)],1):s("span",[s("v-btn",e._g({attrs:{color:"success",rounded:""},on:{click:function(t){e.fileSendDialog=!0}}},e.on),[s("v-icon",[e._v("mdi-file")])],1)],1),s("v-dialog",{attrs:{width:"600"},model:{value:e.fileSendDialog,callback:function(t){e.fileSendDialog=t},expression:"fileSendDialog"}},[e.testsResultsModal?s("v-card",[s("v-card-title",[e._v("Twoje rozwiązanie zostało przetestowane i zapisane")]),s("v-card-text",[s("h3",[e._v("Wyniki testów:")]),s("v-list",e._l(this.testResults,(function(t,a){return s("v-list-item",{key:a},[s("v-list-item-content",[e._v(e._s(t))])],1)})),1)],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary",text:""},on:{click:e.hideResultDialog}},[e._v("Ok")])],1)],1):s("v-card",[s("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("Przesyłanie odpowiedzi")]),s("v-card-text",[s("v-file-input",{attrs:{accept:e.task.exercise.language.allowed_extension,label:"Wybierz plik"},on:{click:e.onFileChange},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),e.sendSolutionLoading?e._e():s("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.fileSendDialog=!1}}},[e._v("Anuluj")]),s("v-btn",{attrs:{color:"primary",loading:e.sendSolutionLoading,text:""},on:{click:e.sendFileSolution}},[e._v("Wyślij")])],1)],1)],1)],1):"Editor"===e.task.solutionType.name?s("div",[e.hasSolution?s("v-btn",{attrs:{rounded:"",color:"primary"},on:{click:e.showSolution}},[s("v-icon",[e._v("mdi-magnify")])],1):s("v-btn",{staticClass:"white--text",attrs:{rounded:"",color:"orange",to:{name:"Editor",params:{task:this.task}}}},[s("v-icon",[e._v("mdi-play")])],1)],1):s("div",[e.hasSolution?s("span",[s("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("v-btn",e._g({attrs:{rounded:"",color:"primary"}},a),[s("v-icon",[e._v("mdi-menu")])],1)]}}],null,!1,3842514395)},[s("v-list",{attrs:{nav:""}},[s("v-list-item",{on:{click:function(t){return e.showSolution()}}},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-magnify")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v("Podgląd")])],1)],1),s("v-list-item",{on:{click:function(t){e.addGitHubRepoDialog=!0}}},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-github")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v("Przeslij ponownie")])],1)],1)],1)],1)],1):s("span",[s("v-btn",{attrs:{color:"primary",rounded:""},on:{click:function(t){e.addGitHubRepoDialog=!0}}},[s("v-icon",[e._v("mdi-github")])],1)],1),s("v-dialog",{attrs:{width:"600",persistent:"",scrollable:""},model:{value:e.addGitHubRepoDialog,callback:function(t){e.addGitHubRepoDialog=t},expression:"addGitHubRepoDialog"}},[e.testsResultsModal?s("v-card",[s("v-card-title",[e._v("Twoje rozwiązanie zostało przetestowane i zapisane")]),s("v-card-text",[s("h3",[e._v("Wyniki testów:")]),s("v-list",e._l(this.testResults,(function(t,a){return s("v-list-item",{key:a},[s("v-list-item-content",[e._v(e._s(t))])],1)})),1)],1),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary",text:""},on:{click:e.hideResultDialog}},[e._v("Ok")])],1)],1):s("v-stepper",{staticStyle:{"overflow-y":"scroll"},model:{value:e.gitHubStepperModel,callback:function(t){e.gitHubStepperModel=t},expression:"gitHubStepperModel"}},[s("v-stepper-header",[s("v-stepper-step",{attrs:{complete:e.gitHubStepperModel>1,step:"1",rules:e.firstStepCompleteRules}},[e._v("Podaj adres repozytorium")]),s("v-divider"),s("v-stepper-step",{attrs:{complete:e.gitHubStepperModel>2,step:"2"}},[e._v("Wybierz plik")])],1),s("v-stepper-items",[s("v-stepper-content",{attrs:{step:"1"}},[s("v-card",{attrs:{flat:"",tile:""}},[s("v-card-text",[s("v-text-field",{attrs:{placeholder:"Np: https://github.com/User/RepositoryName.git",label:"Link do repozytorium"},model:{value:e.ghSolutionRepositoryURL,callback:function(t){e.ghSolutionRepositoryURL=t},expression:"ghSolutionRepositoryURL"}})],1)],1),s("v-row",[s("v-spacer"),s("v-col",{staticClass:"text-right"},[e.sendSolutionLoading?e._e():s("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.addGitHubRepoDialog=!1}}},[e._v("Anuluj")]),s("v-btn",{attrs:{color:"primary",loading:e.sendSolutionLoading},on:{click:e.nextStep}},[e._v("Dalej")])],1)],1)],1),s("v-stepper-content",{attrs:{step:"2"}},[s("v-card",{attrs:{flat:"",tile:""}},[e.firstStepCompleteRules[0]()?s("v-card-text",[e.gitHubLoadingFiles?s("v-progress-circular",{attrs:{indeterminate:""}}):s("div",[s("v-breadcrumbs",{attrs:{items:e.repoContent},scopedSlots:e._u([{key:"item",fn:function(t){var a=t.item;return[s("v-breadcrumbs-item",{attrs:{href:"#"},on:{click:function(t){"Root"===a.name?e.getFilesOfRepo(t):e.changeRepoContent(t,a)}}},[e._v(" "+e._s(a.name)+" ")])]}}],null,!1,553422106)}),s("v-divider",{staticClass:"mb-5"}),e.repoDirs.length>0?s("span",e._l(e.repoDirs,(function(t,a){return s("span",{key:"repo-dir-"+a},[s("v-icon",[e._v("mdi-folder")]),s("a",{on:{click:function(s){return e.getFilesOfRepoDirectory(s,t)}}},[e._v(" "+e._s(t.name))]),e._v(" "),s("br")],1)})),0):e._e(),e.repoFiles.length>0?s("v-radio-group",{model:{value:e.selectedRepositoryElem,callback:function(t){e.selectedRepositoryElem=t},expression:"selectedRepositoryElem"}},e._l(e.repoFiles,(function(e,t){return s("v-radio",{key:"repo-"+t,attrs:{label:e.name,value:e}})})),1):s("div",[e._v(" Brak odpowiednich plików ")])],1)],1):s("v-card-text",[e._v(" Nie podano poprawnego adresu repozytorium ")])],1),s("v-row",[s("v-spacer"),s("v-col",{staticClass:"text-right"},[e.sendSolutionLoading?e._e():s("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.gitHubStepperModel=1}}},[e._v("Powrót")]),s("v-btn",{attrs:{color:"primary",loading:e.sendSolutionLoading},on:{click:e.sendGitHubSolution}},[e._v("Wyślij")])],1)],1)],1)],1)],1)],1)],1)]):s("div",[e.hasSolution?s("v-btn",{attrs:{rounded:"",color:"primary"},on:{click:e.showSolution}},[s("v-icon",[e._v("mdi-magnify")])],1):s("v-btn",{staticClass:"white--text",attrs:{rounded:"",color:"orange",to:{name:"Editor",params:{task:this.task}}}},[s("v-icon",[e._v("mdi-play")])],1)],1)]):"Student"!==e.userType.name||e.task.isActive?s("v-col",[e.task.isActive?s("v-btn",{attrs:{color:"warning",loading:e.loading},on:{click:function(t){return e.changeTaskState("LOCK")}}},[e._v(" Zablokuj zadanie "),s("v-icon",{attrs:{right:""}},[e._v("mdi-lock")])],1):e.task.isRated?s("div",[e._v("Zadanie zamkniete")]):s("div",[s("v-btn",{attrs:{color:"success",loading:e.loading},on:{click:function(t){return e.changeTaskState("CLOSE")}}},[e._v("Zapisz oceny i zamknij zadanie")])],1)],1):s("v-col",{attrs:{cols:"4"}},[e._v("Zadanie zamkniete")])],1)],1),s("v-card-subtitle",[s("v-row",[s("v-col",[e._v(" Przypisane do: "),s("span",[e._v(e._s(e.task.assigned_to.name))])])],1)],1),s("v-card-text",{staticClass:"text--primary"},["Exercise"==e.task.taskType.name?s("div",[s("h3",{staticClass:"mb-3"},[e._v("Cwiczenie:")]),s("exercise",{attrs:{pk:e.task.exercise.pk}})],1):s("div",[s("h3",{staticClass:"mb-3"},[e._v("Cwiczenia:")]),s("v-expansion-panels",{attrs:{multiple:!0,flat:""}},e._l(e.task.test.exercises,(function(t,a){return s("v-expansion-panel",{key:a},[s("v-expansion-panel-header",[e._v(e._s(a+1)+" "+e._s(t.title))]),s("v-expansion-panel-content",[s("exercise",{attrs:{pk:t.pk}})],1)],1)})),1)],1),s("v-divider",{staticClass:"mt-5 mb-5"}),"Teacher"===e.userType.name?s("div",[s("h3",[e._v("Rozwiązania:")]),s("v-row",[s("v-col",[s("v-list",e._l(e.task.assigned_to.users,(function(t,a){return s("v-list-item",{key:"index-"+a},[s("v-list-item-content",[s("v-list-item-title",[s("v-row",[s("v-col",[e._v(e._s(t.first_name)+" "+e._s(t.last_name))]),e.isUserHasSolution(t.username)?s("v-col",e._l(e.task.solution,(function(a,r){return s("span",{key:r},[a.user.username===t.username?s("span",[a.rate?s("span",[e._v(" "+e._s(a.rate)+" ")]):s("span",[e._v(" Brak oceny ")])]):e._e()])})),0):s("v-col",[e._v("Oczekuje na rozwiazanie")])],1)],1)],1),s("v-list-item-action",[e.isUserHasSolution(t.username)?s("span",e._l(e.task.solution,(function(a,r){return s("span",{key:r},[a.user.username===t.username?s("v-btn",{attrs:{color:"primary",icon:"",small:""},on:{click:function(s){return e.showSolutionAsTeacher(a.pk,t)}}},[s("v-icon",[e._v("mdi-magnify")])],1):e._e()],1)})),0):s("span",[s("v-btn",{attrs:{icon:"",small:"",disabled:""}},[s("v-icon",[e._v("mdi-magnify")])],1)],1)])],1)})),1)],1)],1)],1):e._e()],1)],1)],1)],1)],1)],1)},Wt=[],Bt=(s("99af"),s("c740"),s("fb6a"),s("ac1f"),s("1276"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{attrs:{tile:""}},[s("v-card-title",[s("v-row",[s("v-col",{attrs:{cols:"6"}},[e._v(e._s(e.exercise.title))]),s("v-spacer"),"Teacher"===e.userType.name?s("v-col",{staticClass:"text-right",attrs:{cols:"3"}},["ExerciseDetails"===this.$route.name?s("v-btn",{attrs:{small:"",color:"error",icon:"",large:""},on:{click:e.deleteExercise}},[s("v-icon",[e._v("mdi-delete")])],1):e._e()],1):e._e()],1)],1),s("v-card-text",[s("v-divider",{staticClass:"mb-3"}),s("v-row",[s("v-col",{attrs:{cols:"12"}},[e._v(" Technologia: "),s("v-icon",[e._v("mdi-language-"+e._s(e.exercise.language.name.toLowerCase()))]),e._v(" "+e._s(e.exercise.language.name)+" ")],1),s("v-col",{attrs:{cols:"12"}},[e._v(" Poziom zaawansowania: "+e._s(e.exercise.level.name)+" ")]),s("v-col",{staticClass:"text--primary"},[s("v-divider",{staticClass:"mb-5"}),e._v("Tresc: "),s("br"),e._v(" "+e._s(e.exercise.content)+" ")],1)],1)],1)],1)}),Zt=[],Jt=(s("5db7"),s("73d9"),{props:["pk"],created:function(){},methods:{deleteExercise:function(){var e=this,t=confirm("Czy na pewno chcesz usunąć ćwiczenie?");t&&this.$store.dispatch("tasks/deleteExercise",this.exercise.pk).then((function(){e.$router.push({name:"MyExercises"})}))}},computed:{exercise:function(){var e;e=null===this.pk||void 0===this.pk?this.$route.params.pk:this.pk;var t=this.$store.state.tasks.exercises.find((function(t){return t.pk===e}));if(console.log(t),void 0===t||null===t){var s=this.$store.state.tasks.tasks.flatMap((function(e){return"Exercise"===e.taskType.name?e.exercise:e.test.exercises}));return s.find((function(t){return t.pk===e}))}return t},userType:function(){return this.$store.state.auth.profile.userType}}}),Kt=Jt,Qt=Object(u["a"])(Kt,Bt,Zt,!1,null,"218388c4",null),Xt=Qt.exports;v()(Qt,{VBtn:p["a"],VCard:ke["a"],VCardText:we["c"],VCardTitle:we["d"],VCol:x["a"],VDivider:st["a"],VIcon:re["a"],VRow:C["a"],VSpacer:h["a"]});var Yt={components:{exercise:Xt},data:function(){return{loading:!1,snackbar:{show:!1,color:"",message:""},gitHubStepperModel:"1",sendSolutionLoading:!1,testsResultsModal:!1,testResults:"",fileSendDialog:!1,file:null,addGitHubRepoDialog:!1,ghSolutionRepositoryURL:"",selectedRepositoryElem:{},gitHubLoadingFiles:!1,repoContent:[],currentContextRepoDir:"",solution:null}},created:function(){},methods:{nextStep:function(){this.gitHubStepperModel=2,console.log(this.firstStepCompleteRules[0]()),this.firstStepCompleteRules[0]()&&this.getFilesOfRepo()},onFileChange:function(e){console.log(this.file)},sendFileSolution:function(e){var t=this;if(void 0!==this.file&&null!==this.file){this.sendSolutionLoading=!0,console.log(this.file);var s=new FormData;s.append("file",this.file),s.append("taskPk",this.task.pk),s.append("solutionType",this.task.solutionType.name),this.$store.dispatch("tasks/sendSolution",s).then((function(e){t.sendSolutionLoading=!1,t.testsResultsModal=!0,t.testResults=e.data.test_results,t.$store.dispatch("tasks/getAllTasks")})).catch((function(e){t.sendSolutionLoading=!1,console.log(e)}))}else alert("Nie wybrano pliku")},showSolution:function(){var e=this;if(void 0!==this.solution){var t=this.task.solution.find((function(t){return console.log(t.user.username),console.log(e.$store.state.auth.username),t.user.username===e.$store.state.auth.username})).pk;this.$router.push({name:"Solution",params:{pk:t}})}},showSolutionAsTeacher:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$router.push({name:"Solution",params:{pk:e,contextUser:t}})},hideResultDialog:function(){this.fileSendDialog=!1,this.addGitHubRepoDialog=!1,this.testsResultsModal=!1},sendGitHubSolution:function(){var e=this;if(""!==this.ghSolutionRepositoryURL&&void 0!==this.ghSolutionRepositoryURL&&null!==this.ghSolutionRepositoryURL)if(""!==this.selectedRepositoryElem&&void 0!==this.selectedRepositoryElem&&null!==this.selectedRepositoryElem){this.sendSolutionLoading=!0,console.log(this.file);var t=new FormData;t.append("repositoryURL",this.ghSolutionRepositoryURL),t.append("filename",this.selectedRepositoryElem.name),t.append("fileDownloadURL",this.selectedRepositoryElem.download_url),t.append("taskPk",this.task.pk),t.append("solutionType",this.task.solutionType.name),this.$store.dispatch("tasks/sendSolution",t).then((function(t){e.sendSolutionLoading=!1,e.testsResultsModal=!0,e.testResults=t.data.test_results,e.$store.dispatch("tasks/getAllTasks")}))}else alert("Nie wybrano pliku");else alert("Nie wybrano repozytorium")},changeTaskState:function(e){var t=this;if(console.log(e),["LOCK","CLOSE"].includes(e)){this.loading=!0;var s={};s.pk=this.task.pk,s.mode=e,this.$store.dispatch("tasks/closeTask",s).then((function(e){t.loading=!1;var s="";s=200===e.status?"success":"error",t.snackbar.message=e.data.message,t.snackbar.color=s,t.snackbar.show=!0,console.log(e),t.$store.dispatch("tasks/getAllTasks")}))}else console.log("Niepoprawny parametr"+e)},isUserHasSolution:function(e){var t=this.task.solution.map((function(e){return e.user.username}));return t.includes(e)},getFilesOfRepo:function(){var e,t,s,a,r,n,o=arguments;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:null,e&&e.preventDefault(),this.selectedRepositoryElem=null,this.gitHubLoadingFiles=!0,this.repoContent=[],t=this.ghSolutionRepositoryURL.split("/"),s=t[3],a=t[4],console.log(t),r="https://api.github.com/repos/".concat(s,"/").concat(a,"/contents"),console.log(r),i.next=13,regeneratorRuntime.awrap(this.loadContentFromGithubURL(r));case 13:n=i.sent,this.currentContextRepoDir=r,this.addContent("Root",r,null,n),this.gitHubLoadingFiles=!1;case 17:case"end":return i.stop()}}),null,this)},getFilesOfRepoDirectory:function(e,t){var s,a,r,n,o;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return e.preventDefault(),this.gitHubLoadingFiles=!0,console.log(t),this.selectedRepositoryElem=null,s=t.url,i.next=7,regeneratorRuntime.awrap(this.loadContentFromGithubURL(s));case 7:a=i.sent,r=this.repoContent[this.repoContent.length-1].github_url,this.currentContextRepoDir=s,n=this.repoContent.some((function(e){return e.github_url===s})),n&&(o=this.repoContent.findIndex((function(e){return e.github_url===s})),this.repoContent=this.repoContent.slice(0,o)),console.log(this.repoContent),this.addContent(t.name,s,r,a),this.gitHubLoadingFiles=!1;case 15:case"end":return i.stop()}}),null,this)},loadContentFromGithubURL:function(e){var t,s,a,r=this;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(fetch(e,{method:"GET"}));case 2:return t=n.sent,n.next=5,regeneratorRuntime.awrap(t.json());case 5:return s=n.sent,console.log(s),a=s.filter((function(e){var t=e.type;if("dir"===t)return!0;if("file"===t){var s=e.name,a=s.split(".")[1];return a=".".concat(a),a===r.task.exercise.language.allowed_extension}return!1})),n.abrupt("return",a);case 9:case"end":return n.stop()}}))},addContent:function(e,t,s,a){this.repoContent.push({name:e,github_url:t,parent_url:s,content:a})},changeRepoContent:function(e,t){var s=this;e.preventDefault(),this.gitHubLoadingFiles=!0,console.log(t),console.log(t.github_url),this.selectedRepositoryElem=null,this.currentContextRepoDir=t.github_url;var a=this.repoContent.some((function(e){return e.github_url===s.currentContextRepoDir}));if(a){var r=this.repoContent.findIndex((function(e){return e.github_url===s.currentContextRepoDir}));this.repoContent=this.repoContent.slice(0,r+1),this.currentContextRepoDir=t.github_url}this.gitHubLoadingFiles=!1}},computed:{task:function(){var e=this;return this.$store.state.tasks.tasks.find((function(t){return t.pk===e.$route.params.pk}))},userType:function(){return this.$store.state.auth.profile.userType},hasSolution:function(){var e=this;console.log(this.task),console.log(this.task.solution);var t=this.task.solution.find((function(t){return console.log(t.user.username),console.log(e.$store.state.auth.username),t.user.username===e.$store.state.auth.username}));return console.log(t),void 0!==t},firstStepCompleteRules:function(){var e=this,t=[],s=function(){return e.gitHubStepperModel>1},a=function(){var t=/^([A-Za-z0-9]+@|http(|s):\/\/)([A-Za-z0-9.]+(:\d+)?)(?::|\/)([\d/\w.-]+?)(\.git)?$/i,a=t.test(e.ghSolutionRepositoryURL);return!1!==a||!s()};return t.push(a),t},repoFiles:function(){var e=this;if(!Array.isArray(this.repoContent))return[];if(0===this.repoContent.length)return[];var t=this.repoContent.find((function(t){return t.github_url===e.currentContextRepoDir})),s=t.content.filter((function(t){var s=t.type;if("file"===s){var a=t.name,r=a.split(".")[1];return r=".".concat(r),r===e.task.exercise.language.allowed_extension}return!1}));return s},repoDirs:function(){var e=this;if(!Array.isArray(this.repoContent))return[];if(0===this.repoContent.length)return[];var t=this.repoContent.find((function(t){return t.github_url===e.currentContextRepoDir})),s=t.content.filter((function(e){return"dir"===e.type}));return s}}},es=Yt,ts=s("2bc5"),ss=s("f625"),as=s("cd55"),rs=s("49e2"),ns=s("c865"),os=s("0393"),is=s("23a7"),ls=s("67b6"),cs=s("43a6"),us=s("7e85"),ds=s("e516"),vs=s("9c54"),ps=s("56a4"),ms=Object(u["a"])(es,Ht,Wt,!1,null,"7a191642",null),hs=ms.exports;v()(ms,{VBreadcrumbs:ts["a"],VBreadcrumbsItem:ss["a"],VBtn:p["a"],VCard:ke["a"],VCardActions:we["a"],VCardSubtitle:we["b"],VCardText:we["c"],VCardTitle:we["d"],VCol:x["a"],VContainer:T["a"],VDialog:ut["a"],VDivider:st["a"],VExpansionPanel:as["a"],VExpansionPanelContent:rs["a"],VExpansionPanelHeader:ns["a"],VExpansionPanels:os["a"],VFileInput:is["a"],VIcon:re["a"],VList:ne["a"],VListItem:ie["a"],VListItemAction:at["a"],VListItemContent:le["a"],VListItemIcon:ce["a"],VListItemTitle:le["c"],VMenu:m["a"],VProgressCircular:Oe["a"],VRadio:ls["a"],VRadioGroup:cs["a"],VRow:C["a"],VSnackbar:_e["a"],VSpacer:h["a"],VStepper:us["a"],VStepperContent:ds["a"],VStepperHeader:vs["a"],VStepperItems:vs["b"],VStepperStep:ps["a"],VTextField:ye["a"]});var fs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-card",[s("v-card-title",["ExerciseListing"===e.currentRoute.name?s("v-row",[s("v-col",[e._v("Moje cwiczenia")]),s("v-spacer"),s("v-col",[s("v-btn",{attrs:{color:"success",to:{name:"ExerciseCreator"}}},[s("v-icon",[e._v("mdi-plus")])],1)],1)],1):e._e()],1),s("v-card-text",[s("router-view")],1)],1)],1)},gs=[],ks={props:["redirected"],created:function(){this.$route.params.redirected||this.$router.push({name:"ExerciseListing"})},watch:{$route:function(e,t){"MyExercises"===e.name&&this.$router.push({name:"ExerciseListing"})}},computed:{currentRoute:function(){return this.$route}}},ws=ks,bs=Object(u["a"])(ws,fs,gs,!1,null,null,null),_s=bs.exports;v()(bs,{VBtn:p["a"],VCard:ke["a"],VCardText:we["c"],VCardTitle:we["d"],VCol:x["a"],VIcon:re["a"],VRow:C["a"],VSpacer:h["a"]});var ys=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-row",[s("v-col",[s("v-btn",{staticClass:"d-inline",attrs:{icon:""},on:{click:function(t){e.showSearchField=!e.showSearchField}}},[s("v-icon",[e._v("mdi-magnify")])],1),e.showSearchField?s("v-text-field",{staticClass:"d-inline-flex ma-0 pa-0",staticStyle:{width:"30%",position:"absolute"},attrs:{placeholder:"Podaj nazwe cwiczenia lub jezyk programowania"},model:{value:e.searchForName,callback:function(t){e.searchForName=t},expression:"searchForName"}}):e._e()],1)],1),s("v-row",{attrs:{"mt-4":""}},e._l(e.exercises,(function(t,a){return s("v-col",{key:a,attrs:{cols:"4"}},[s("v-card",[s("v-hover",{scopedSlots:e._u([{key:"default",fn:function(a){var r=a.hover;return[s("v-card-title",{class:r?"title-link":"",staticStyle:{"word-break":"keep-all"},on:{click:function(s){return e.showExerciseDetails(t)}}},[e._v(" "+e._s(t.title)+" ")])]}}],null,!0)}),s("v-card-subtitle",[e._v(" Technologia: "),s("v-icon",[e._v("mdi-language-"+e._s(t.language.name.toLowerCase()))]),e._v(" "+e._s(t.language.name)+" "),s("br"),e._v(" Poziom zaawansowania: "+e._s(t.level.name)+" ")],1)],1)],1)})),1)],1)},xs=[],Ts={data:function(){return{showSearchField:!1,searchForName:""}},created:function(){this.$store.dispatch("tasks/getAllExercises")},methods:{filterExercises:function(e){var t=this;return""===this.searchForName?e:e.filter((function(e){return e.title.includes(t.searchForName)||e.language.name.includes(t.searchForName)}))},showExerciseDetails:function(e){this.$router.push({name:"ExerciseDetails",params:{pk:e.pk}})}},computed:{exercises:function(){return this.filterExercises(this.$store.state.tasks.exercises)}}},Vs=Ts,Cs=(s("e98a"),Object(u["a"])(Vs,ys,xs,!1,null,"2ed57ccc",null)),zs=Cs.exports;v()(Cs,{VBtn:p["a"],VCard:ke["a"],VCardSubtitle:we["b"],VCardTitle:we["d"],VCol:x["a"],VHover:gt["a"],VIcon:re["a"],VRow:C["a"],VTextField:ye["a"]});var Ss=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-snackbar",{attrs:{top:"",color:e.snackbar.color},model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.message)+" "),s("v-btn",{attrs:{text:"",dark:""},on:{click:function(t){e.snackbar.show=!1}}},[e._v("Ok")])],1),s("v-form",[s("v-container",[s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"10"}},[s("v-card",[s("v-card-title",[e._v("Tworzenie ćwiczenia")]),s("v-card-text",[s("v-text-field",{attrs:{outlined:"",type:"text",label:"Tytul",required:""},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}}),s("v-divider",{staticClass:"mb-4"}),s("v-row",[s("v-col",[s("v-select",{attrs:{items:e.languages,outlined:"",label:"Technologia",required:""},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v(" "+e._s(t.item.name)+" ")]}},{key:"selection",fn:function(t){return[e._v(" "+e._s(t.item.name)+" ")]}}]),model:{value:e.form.language,callback:function(t){e.$set(e.form,"language",t)},expression:"form.language"}})],1),s("v-col",[s("v-select",{attrs:{items:e.levels,outlined:"",label:"Poziom zaawansowania",required:""},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v(" "+e._s(t.item.name)+" ")]}},{key:"selection",fn:function(t){return[e._v(" "+e._s(t.item.name)+" ")]}}]),model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}})],1)],1),s("v-row",[s("v-col",[s("v-textarea",{attrs:{outlined:"",label:"Tresc zadania",rows:"12",requried:""},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1)],1),s("v-divider"),s("v-row",[s("v-col",{staticClass:"text-center"},[s("h4",[e._v("Utworz testy jednostkowe")])]),s("v-spacer"),s("v-col",[s("v-btn",{attrs:{color:"primary",disabled:e.unitTestFormShow(),small:""},on:{click:e.addUnitTest}},[e._v("Dodaj test")]),s("v-btn",{attrs:{icon:""},on:{click:function(t){e.displayTooltip=!e.displayTooltip}}},[s("v-icon",{attrs:{color:"accent"}},[e._v("mdi-help-circle")])],1)],1)],1),e.displayTooltip?s("v-row",[s("v-col",["Python"===e.form.language.name?s("span",[e._v(" Aplikacja wykorzystuje bibliotekę 'unittest' do przeprowadzania testów jednostkowych. Poniższy formularz pozwala na zdefiniowanie testów do tego ćwiczenia. Każde z pól formularza odpowiada pojedynczemu testowi jednostkowemu W formularzu należy wpisać asercje lub instrukcje oddzielone znakami nowej linii. "),s("br"),e._v("Przykładowa metoda: "),s("v-card",[s("v-card-text",[s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("h4",[e._v("Przykład 1")]),e._v("self.assertEqual(moja_funkcja(1, 1), 2) self.assertEqual(moja_funkcja(2, 2), 4) ")]),s("v-col",{attrs:{cols:"6"}},[s("h4",[e._v("Przykład 2")]),e._v("mk = MojaKlasa() "),s("br"),e._v("assertEqual(mk.metoda(), True) ")])],1)],1)],1),s("br"),s("a",{attrs:{href:"https://docs.python.org/3/library/unittest.html#assert-methods"}},[e._v("Link do dostępnych asercji.")])],1):"Java"===e.form.language.name?s("span",[e._v(' Aplikacja wykorzystuje bibliotekę "JUnit" do przeprowadzania testów jednostkowych. Poniższy formularz pozwala na zdefiniowanie testów do tego ćwiczenia. Każde z pól formularza odpowiada pojedynczemu testowi jednostkowemu W polu formularza należy wpisać asercje lub instrukcje zakończone średnikiem ";" i oddzielone znakiem nowej linii . '),s("br"),e._v("Przykładowa metoda: "),s("v-card",[s("v-card-text",[s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("h4",[e._v("Przykład 1")]),e._v("assertEquals(mojaFunkcja(1, 1), 2); assertEquals(mojaFunkcja(2, 2), 4); ")]),s("v-col",{attrs:{cols:"6"}},[s("h4",[e._v("Przykład 2")]),e._v("MojaKlasa mk = new MojaKlasa(); assertEqual(mk.metoda(), true); ")])],1)],1)],1),s("br"),s("a",{attrs:{href:"https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/Assertions.html"}},[e._v("Link do dostępnych asercji.")])],1):e._e()])],1):e._e(),s("v-divider"),e._l(e.form.unitTests,(function(t,a){return s("v-row",{key:a},[s("v-col",{attrs:{cols:"10"}},[e._v("Test "+e._s(a+1))]),s("v-col",{attrs:{cols:"2"}},[s("v-btn",{attrs:{color:"error",small:""},on:{click:function(t){return e.removeUnitTest(a)}}},[e._v(" Usuń "),s("v-icon",{attrs:{right:""}},[e._v("mdi-delete")])],1)],1),s("v-col",{attrs:{cols:"12"}},[s("v-textarea",{attrs:{outlined:"",required:"",placeholder:"Wprowadź asercje"},model:{value:e.form.unitTests[a],callback:function(t){e.$set(e.form.unitTests,a,t)},expression:"form.unitTests[index]"}})],1)],1)})),s("v-row",[s("v-col",{staticClass:"text-right"},[s("v-btn",{attrs:{color:"primary",loading:e.loading},on:{click:e.createExercise}},[e._v("Utwórz")])],1)],1)],2)],1)],1)],1)],1)],1)],1)},Rs=[],$s=(s("a434"),{data:function(){return{loading:!1,snackbar:{show:!1,color:"",message:""},displayTooltip:!1,levels:[],languages:[],form:{title:"",language:"",level:"",content:"",unitTests:[]}}},methods:{createExercise:function(e){var t=this;for(var s in e.preventDefault(),this.form)if(""===this.form[s])return this.snackbar.message="Nie podano wszystkich danych",this.snackbar.color="warning",void(this.snackbar.show=!0);console.log(this.form),this.loading=!0,this.$store.dispatch("tasks/createExercise",this.form).then((function(e){console.log(e),t.loading=!1;var s="";s=200===e.status?"success":"error",t.snackbar.message=e.data.message,t.snackbar.color=s,t.snackbar.show=!0,200===e.status&&(t.form.title="",t.form.language="",t.form.level="",t.form.content="",t.form.unitTests=[])}))},addUnitTest:function(e){e.preventDefault(),this.form.unitTests.push("")},removeUnitTest:function(e){this.form.unitTests.splice(e,1)},unitTestFormShow:function(){return!this.languages.includes(this.form.language)}},created:function(){var e=this;this.$store.dispatch("tasks/getLanguagesAll").then((function(t){e.languages=t})),this.$store.dispatch("tasks/getLevelsAll").then((function(t){e.levels=t}))}}),Ls=$s,Es=s("a844"),js=Object(u["a"])(Ls,Ss,Rs,!1,null,"678d1cb9",null),Us=js.exports;v()(js,{VBtn:p["a"],VCard:ke["a"],VCardText:we["c"],VCardTitle:we["d"],VCol:x["a"],VContainer:T["a"],VDivider:st["a"],VForm:be["a"],VIcon:re["a"],VRow:C["a"],VSelect:Ot["a"],VSnackbar:_e["a"],VSpacer:h["a"],VTextField:ye["a"],VTextarea:Es["a"]});var Ds=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-row",[s("v-col",[s("v-btn",{staticClass:"d-inline",attrs:{icon:""},on:{click:function(t){e.showSearchField=!e.showSearchField}}},[s("v-icon",[e._v("mdi-magnify")])],1),e.showSearchField?s("v-text-field",{staticClass:"d-inline-flex ma-0 pa-0",staticStyle:{width:"20%",position:"absolute"},attrs:{placeholder:"Podaj nazwe kolokwium"},model:{value:e.searchForName,callback:function(t){e.searchForName=t},expression:"searchForName"}}):e._e()],1)],1),s("v-row",e._l(e.tests,(function(t,a){return s("v-col",{key:a,attrs:{cols:"4"}},[s("v-card",[s("v-hover",{scopedSlots:e._u([{key:"default",fn:function(a){var r=a.hover;return[s("v-card-title",{class:r?"title-link":"",on:{click:function(s){return e.showTestDetails(t)}}},[e._v(" "+e._s(t.title)+" ")])]}}],null,!0)}),s("v-card-subtitle",[e._v(" Ilość zadań: "+e._s(t.exercises.length)+" ")])],1)],1)})),1)],1)},As=[],Ns={data:function(){return{showSearchField:!1,searchForName:""}},created:function(){this.$store.dispatch("tasks/getAllTests")},methods:{filterTestsByName:function(e){var t=this;return""===this.searchForName?e:e.filter((function(e){return e.title.includes(t.searchForName)}))},showTestDetails:function(e){this.$router.push({name:"TestDetails",params:{pk:e.pk}})}},computed:{tests:function(){return this.filterTestsByName(this.$store.state.tasks.tests)}}},Is=Ns,Ps=(s("4b68"),Object(u["a"])(Is,Ds,As,!1,null,"b07c018e",null)),Fs=Ps.exports;v()(Ps,{VBtn:p["a"],VCard:ke["a"],VCardSubtitle:we["b"],VCardTitle:we["d"],VCol:x["a"],VHover:gt["a"],VIcon:re["a"],VRow:C["a"],VTextField:ye["a"]});var qs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-container",[s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"6"}},[s("v-card",[s("v-card-title",[s("v-row",[s("v-col",{attrs:{cols:"6"}},[e._v(" "+e._s(e.test.title)+" ")]),s("v-spacer"),s("v-col",{staticClass:"text-right",attrs:{col:"2"}},[s("v-btn",{attrs:{color:"error",icon:"",large:""},on:{click:e.deleteTest}},[s("v-icon",[e._v("mdi-delete")])],1)],1)],1)],1),s("v-card-text",[s("h4",[e._v("Cwiczenia:")]),s("v-list",e._l(e.test.exercises,(function(t,a){return s("v-list-item",{key:a},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-language-"+e._s(t.language.name.toLowerCase()))])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" "+e._s(t.title)+" ")]),s("v-list-item-subtitle",[e._v("Poziom - "+e._s(t.level.name))])],1),s("v-list-item-action",[s("v-btn",{attrs:{icon:"",small:"",color:"primary"},on:{click:function(s){return e.showExercise(t.pk)}}},[s("v-icon",[e._v("mdi-magnify")])],1)],1),s("v-dialog",{attrs:{width:"600"},model:{value:e.showExerciseModal,callback:function(t){e.showExerciseModal=t},expression:"showExerciseModal"}},[s("exercise",{attrs:{pk:e.exercisePkToShow}}),s("v-card",{attrs:{tile:""}},[s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.showExerciseModal=!1}}},[e._v("Zamknij")])],1)],1)],1)],1)})),1)],1)],1)],1)],1)],1)],1)},Os=[],Gs={components:{exercise:Xt},props:["pk"],data:function(){return{showExerciseModal:!1,exercisePkToShow:0}},created:function(){},methods:{deleteTest:function(){var e=this,t=confirm("Czy na pewno chcesz usunąć kolokwium?");t&&this.$store.dispatch("tasks/deleteTest",this.test.pk).then((function(){e.$router.push("/tasks/exercises")}))},showExercise:function(e){this.showExerciseModal=!0,this.exercisePkToShow=e}},computed:{test:function(){var e;e=null===this.pk||void 0===this.pk?this.$route.params.pk:this.pk;var t=this.$store.state.tasks.tests.find((function(t){return t.pk===e}));return t}}},Ms=Gs,Hs=Object(u["a"])(Ms,qs,Os,!1,null,"7d9cbb9e",null),Ws=Hs.exports;v()(Hs,{VBtn:p["a"],VCard:ke["a"],VCardActions:we["a"],VCardText:we["c"],VCardTitle:we["d"],VCol:x["a"],VContainer:T["a"],VDialog:ut["a"],VIcon:re["a"],VList:ne["a"],VListItem:ie["a"],VListItemAction:at["a"],VListItemContent:le["a"],VListItemIcon:ce["a"],VListItemSubtitle:le["b"],VListItemTitle:le["c"],VRow:C["a"],VSpacer:h["a"]});var Bs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-snackbar",{attrs:{top:"",color:e.snackbar.color},model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.message)+" "),s("v-btn",{attrs:{text:"",dark:""},on:{click:function(t){e.snackbar.show=!1}}},[e._v("Ok")])],1),s("v-form",[s("v-content",[s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"8"}},[s("v-card",[s("v-card-title",[e._v("Tworzenie kolokwium")]),s("v-card-text",[s("v-text-field",{attrs:{outlined:"",type:"text",label:"Nazwa kolokwium",required:""},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}}),s("v-divid"),s("v-row",[s("v-col",{attrs:{cols:"4"}},[s("v-select",{attrs:{outlined:"",items:e.exercises,label:"Wybierz cwiczenie",required:""},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v(" "+e._s(t.item.title)+" ")]}},{key:"selection",fn:function(t){return[e._v(" "+e._s(t.item.title)+" ")]}}]),model:{value:e.selectedExercise,callback:function(t){e.selectedExercise=t},expression:"selectedExercise"}})],1),s("v-col",{staticClass:"text-center",attrs:{cols:"1"}},[s("v-btn",{attrs:{color:"primary",icon:"",large:""},on:{click:e.addExerciseToTest}},[s("v-icon",[e._v("mdi-plus-circle")])],1)],1),s("v-divider",{attrs:{vertical:""}}),s("v-col",{attrs:{cols:"6"}},[s("h4",{staticClass:"text-center"},[e._v("Wybrane cwiczenia:")]),s("v-list",e._l(e.form.exercises,(function(t,a){return s("v-list-item",{key:a},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-language-"+e._s(t.language.name.toLowerCase()))])],1),s("v-list-item-content",[s("v-list-item-title",{attrs:{title:t.title}},[e._v(" "+e._s(t.title)+" ")]),s("v-list-item-subtitle",[e._v("Poziom - "+e._s(t.level.name))])],1),s("v-list-item-action",[s("v-btn",{attrs:{icon:"",small:"",color:"error"},on:{click:function(t){return e.removeExerciseFromTest(a)}}},[s("v-icon",[e._v("mdi-delete")])],1)],1)],1)})),1)],1)],1)],1),s("v-card-actions",{staticClass:"mt-5"},[s("v-spacer"),s("v-btn",{staticClass:"mr-2",attrs:{color:"success",loading:e.loading},on:{click:e.createTest}},[e._v("Utwórz")])],1)],1)],1)],1)],1)],1)],1)},Zs=[],Js={data:function(){return{loading:!1,snackbar:{show:!1,color:"",message:""},selectedExercise:{},form:{title:"",exercises:[]}}},methods:{addExerciseToTest:function(){null!==this.selectedExercise&&(this.form.exercises.includes(this.selectedExercise)||this.form.exercises.push(this.selectedExercise))},removeExerciseFromTest:function(e){var t=this;this.form.exercises=this.form.exercises.filter((function(s){return s!==t.form.exercises[e]}))},createTest:function(e){var t=this;return e.preventDefault(),""===this.form.title?(this.snackbar.message="Nie podano nazwy kolokwium",this.snackbar.color="warning",void(this.snackbar.show=!0)):0===this.form.exercises.length?(this.snackbar.message="Nie wybrano zadnych cwiczen",this.snackbar.color="warning",void(this.snackbar.show=!0)):(this.loading=!0,console.log(this.form),void this.$store.dispatch("tasks/createTest",this.form).then((function(e){t.loading=!1;var s="";s=200===e.status?"success":"error",t.snackbar.message=e.data.message,t.snackbar.color=s,t.snackbar.show=!0,200===e.status&&(t.selectedExercise="",t.form.title="",t.form.exercises=[])})))}},created:function(){this.$store.dispatch("tasks/getAllExercises")},computed:{exercises:function(){return this.$store.state.tasks.exercises}}},Ks=Js,Qs=Object(u["a"])(Ks,Bs,Zs,!1,null,"3f783c0d",null),Xs=Qs.exports;v()(Qs,{VBtn:p["a"],VCard:ke["a"],VCardActions:we["a"],VCardText:we["c"],VCardTitle:we["d"],VCol:x["a"],VContent:V["a"],VDivider:st["a"],VForm:be["a"],VIcon:re["a"],VList:ne["a"],VListItem:ie["a"],VListItemAction:at["a"],VListItemContent:le["a"],VListItemIcon:ce["a"],VListItemSubtitle:le["b"],VListItemTitle:le["c"],VRow:C["a"],VSelect:Ot["a"],VSnackbar:_e["a"],VSpacer:h["a"],VTextField:ye["a"]});var Ys=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-card",[s("v-card-title",["TestListing"===e.currentRoute.name?s("v-row",[s("v-col",[e._v("Moje kolokwia")]),s("v-spacer"),s("v-col",[s("v-btn",{attrs:{color:"success",to:{name:"TestCreator"}}},[s("v-icon",[e._v("mdi-plus")])],1)],1)],1):e._e()],1),s("v-card-text",[s("router-view")],1)],1)],1)},ea=[],ta={created:function(){this.$router.push({name:"TestListing"})},watch:{$route:function(e,t){"MyTests"===e.name&&this.$router.push({name:"TestListing"})}},computed:{currentRoute:function(){return this.$route}}},sa=ta,aa=Object(u["a"])(sa,Ys,ea,!1,null,null,null),ra=aa.exports;v()(aa,{VBtn:p["a"],VCard:ke["a"],VCardText:we["c"],VCardTitle:we["d"],VCol:x["a"],VIcon:re["a"],VRow:C["a"],VSpacer:h["a"]});var na=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.noSolution?s("div",[e._v("Użytkownik "+e._s(e.solutionAuthor.first_name)+" "+e._s(e.solutionAuthor.last_name)+" nie przyslal rozwiazania")]):s("div",[s("v-snackbar",{attrs:{top:"",color:e.snackbar.color},model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.message)+" "),s("v-btn",{attrs:{text:"",dark:""},on:{click:function(t){e.snackbar.show=!1}}},[e._v("Ok")])],1),"Teacher"===e.userType.name?s("div",["Exercise"===e.task.taskType.name?s("div",[s("v-card",{attrs:{tile:""}},[s("v-card-title",[e._v(e._s(e.task.title))]),s("v-card-text",{staticClass:"text--primary",staticStyle:{"white-space":"pre-wrap"}},[s("v-row",[s("v-col",[e._v(e._s(e.task.exercise.content))])],1),s("v-divider"),s("v-row",[s("v-col",[s("h4",[e._v("Rozwiazanie:")]),e._v(" "+e._s(e.solution.solution_exercise[0].solution_value)+" ")])],1),s("v-divider"),s("v-row",[s("v-col",[s("v-expansion-panels",{staticStyle:{"white-space":"pre-wrap"},attrs:{tile:""}},[s("v-expansion-panel",[s("v-expansion-panel-header",[e._v("Wyniki testów")]),s("v-expansion-panel-content",[e._v(e._s(e.solution.solution_exercise[0].test_results))])],1)],1)],1)],1)],1),s("v-card-actions",[e.solution.task.isRated?s("v-row",{staticClass:"pa-0 ma-0",attrs:{align:"baseline"}},[s("v-spacer"),s("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"2"}},[e._v(" Ocena: "+e._s(e.solution.rate)+" ")])],1):s("v-row",{staticClass:"pa-0 ma-0",attrs:{align:"baseline"}},[s("v-spacer"),s("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"2"}},[s("v-select",{attrs:{outlined:"",rounded:"",label:"Ocena",items:[2,3,3.5,4,4.5,5]},model:{value:e.solutionRates[0].rate,callback:function(t){e.$set(e.solutionRates[0],"rate",t)},expression:"solutionRates[0].rate"}})],1),s("v-col",{attrs:{cols:"1"}},[s("v-btn",{attrs:{large:"",rounded:"",color:"primary",loading:e.loading,disabled:e.disabled},on:{click:e.rateSolution}},[e._v("Oceń")])],1)],1)],1)],1)],1):s("div",[s("v-row",[s("v-col",[s("h3",[e._v(e._s(e.task.title))])])],1),s("v-row",[s("v-col",[s("h4",[e._v("Rozwiązanie użytkownika: "+e._s(e.solutionAuthor.first_name)+" "+e._s(e.solutionAuthor.last_name))])])],1),s("v-row",e._l(e.solution.solution_test.solution_exercises,(function(t,a){return s("v-col",{key:a,attrs:{cols:"12"}},[s("v-card",{staticClass:"mb-4",staticStyle:{"white-space":"pre-wrap"}},[s("v-card-title",[e._v(e._s(t.exercise.title))]),s("v-card-text",{staticClass:"text--primary"},[s("v-row",[s("v-col",[e._v(e._s(t.exercise.content))])],1),s("v-divider"),s("v-row",[s("v-col",[s("h4",[e._v("Rozwiazanie:")]),e._v(" "+e._s(t.solution_value)+" ")])],1),s("v-divider"),s("v-row",[s("v-col",[s("v-expansion-panels",{staticStyle:{"white-space":"pre-wrap"},attrs:{tile:""}},[s("v-expansion-panel",[s("v-expansion-panel-header",[e._v("Wyniki testów")]),s("v-expansion-panel-content",[e._v(e._s(t.test_results))])],1)],1)],1)],1)],1),s("v-card-actions",[s("v-row",{staticClass:"pa-0 ma-0",attrs:{align:"baseline"}},[s("v-spacer"),e.solution.task.isRated?s("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"2"}},[e._v(" Ocena: "+e._s(e.solutionRates[a].rate)+" ")]):s("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"2"}},[s("v-select",{attrs:{outlined:"",rounded:"",label:"Ocena",items:[2,3,3.5,4,4.5,5]},model:{value:e.solutionRates[a].rate,callback:function(t){e.$set(e.solutionRates[a],"rate",t)},expression:"solutionRates[index].rate"}})],1)],1)],1)],1)],1)})),1),s("v-row",[s("v-spacer"),e.solution.task.isRated?e._e():s("v-col",{attrs:{cols:"1"}},[s("v-btn",{attrs:{large:"",rounded:"",color:"primary",loading:e.loading,disabled:e.disabled},on:{click:e.rateSolution}},[e._v("Oceń")])],1),s("v-col",{attrs:{cols:"4"}},[e._v(" Ocena końcowa: "+e._s(e.solution.rate)+" ")])],1)],1)]):s("div",["Exercise"===e.task.taskType.name?s("div",[s("v-card",{attrs:{tile:""}},[s("v-card-title",[e._v(e._s(e.task.title))]),s("v-card-text",{staticClass:"text--primary",staticStyle:{"white-space":"pre-wrap"}},[s("v-row",[s("v-col",[e._v(e._s(e.task.exercise.content))])],1),s("v-divider"),s("v-row",[s("v-col",[s("h4",[e._v("Rozwiazanie:")]),e._v(" "+e._s(e.solution.solution_exercise[0].solution_value)+" ")])],1),s("v-divider"),s("v-row",[s("v-col",[s("v-expansion-panels",{staticStyle:{"white-space":"pre-wrap"},attrs:{tile:""}},[s("v-expansion-panel",[s("v-expansion-panel-header",[e._v("Wyniki testów")]),s("v-expansion-panel-content",[e._v(e._s(e.solution.solution_exercise[0].test_results))])],1)],1)],1)],1)],1),s("v-card-actions",[s("v-row",{staticClass:"pa-0 ma-0",attrs:{align:"baseline"}},[s("v-spacer"),e.solution.solution_exercise[0].rate?s("v-col",{attrs:{cols:"2"}},[e._v("Ocena: "+e._s(e.solution.solution_exercise[0].rate))]):s("v-col",{attrs:{cols:"3"}},[e._v("Oczekuje na ocene")])],1)],1)],1)],1):s("div",[s("v-row",[s("v-col",[s("h3",[e._v(e._s(e.task.title))])])],1),s("v-row",e._l(e.solution.solution_test.solution_exercises,(function(t,a){return s("v-col",{key:a,attrs:{cols:"12"}},[s("v-card",{staticClass:"mb-4",staticStyle:{"white-space":"pre-wrap"}},[s("v-card-title",[e._v(e._s(t.exercise.title))]),s("v-card-text",{staticClass:"text--primary"},[s("v-row",[s("v-col",[e._v(e._s(t.exercise.content))])],1),s("v-divider"),s("v-row",[s("v-col",[s("h4",[e._v("Rozwiazanie:")]),e._v(" "+e._s(t.solution_value)+" ")])],1),s("v-divider"),s("v-row",[s("v-col",[s("v-expansion-panels",{staticStyle:{"white-space":"pre-wrap"},attrs:{tile:""}},[s("v-expansion-panel",[s("v-expansion-panel-header",[e._v("Wyniki testów")]),s("v-expansion-panel-content",[e._v(e._s(t.test_results))])],1)],1)],1)],1)],1),s("v-card-actions",[s("v-row",{staticClass:"pa-0 ma-0",attrs:{align:"baseline"}},[s("v-spacer"),t.rate?s("v-col",{attrs:{cols:"2"}},[e._v("Ocena: "+e._s(t.rate))]):s("v-col",{attrs:{cols:"3"}},[e._v("Oczekuje na ocene")])],1)],1)],1)],1)})),1),s("v-row",[s("v-spacer"),e.solution.rate?s("v-col",{attrs:{cols:"3"}},[e._v(" Ocena końcowa: "+e._s(e.solution.rate)+" ")]):s("v-col",{attrs:{cols:"4"}},[e._v("Kolokwium oczekuje na ocene")])],1)],1)])],1)},oa=[],ia={data:function(){return{loading:!1,disabled:!1,snackbar:{show:!1,color:"",message:""},noSolution:!1,solution:{},solutionAuthor:{},task:{},solutionRates:{}}},created:function(){var e=this;if(null===this.$route.params.pk)return this.noSolution=!0,void(this.solutionAuthor=this.$route.params.contextUser);this.$store.dispatch("tasks/getSolution",this.$route.params.pk).then((function(t){if(console.log(t),e.solution=t.data,e.solutionAuthor=t.data.user,e.task=t.data.task,400!==t.status)if(e.solutionRates=e.solution.solution_exercise.map((function(e){return{pk:e.pk,rate:e.rate}})),"Exercise"===e.task.taskType.name)e.task.exercise.solution=JSON.parse(JSON.stringify(t.data.solutionValue));else{var s=t.data.solutionValue.map((function(e){return JSON.parse(JSON.stringify(e))}));for(var a in console.log(s),e.task.test.exercises)e.task.test.exercises[a].solution=s[a]}else e.noSolution=!0}))},methods:{rateSolution:function(){var e=this,t=!0,s=!1,a=void 0;try{for(var r,n=this.solutionRates[Symbol.iterator]();!(t=(r=n.next()).done);t=!0){var o=r.value;if(console.log(o),null===o.rate||void 0===o.rate)return}}catch(l){s=!0,a=l}finally{try{t||null==n.return||n.return()}finally{if(s)throw a}}this.loading=!0;var i={};i.pk=this.solution.pk,i.solRates=this.solutionRates,i.mode="RATE",this.$store.dispatch("tasks/rateSolution",i).then((function(t){e.loading=!1;var s="";s=200===t.status?"success":"error",e.snackbar.message=t.data.message,e.snackbar.color=s,e.snackbar.show=!0,console.log(t)})).catch((function(e){console.log(e)}))}},computed:{userType:function(){return this.$store.state.auth.profile.userType}}},la=ia,ca=Object(u["a"])(la,na,oa,!1,null,null,null),ua=ca.exports;v()(ca,{VBtn:p["a"],VCard:ke["a"],VCardActions:we["a"],VCardText:we["c"],VCardTitle:we["d"],VCol:x["a"],VDivider:st["a"],VExpansionPanel:as["a"],VExpansionPanelContent:rs["a"],VExpansionPanelHeader:ns["a"],VExpansionPanels:os["a"],VRow:C["a"],VSelect:Ot["a"],VSnackbar:_e["a"],VSpacer:h["a"]});var da=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-row",[s("v-col",{attrs:{cols:"12"}},["Student"===e.userType.name?s("v-card",[s("v-card-title",[e._v("Moje wyniki")]),s("v-card-text",[s("v-simple-table",[[s("thead",[s("tr",{staticClass:"text-center"},[s("th",[e._v("Zadanie")]),s("th",[e._v("Ocena")]),s("th",[e._v("Podgląd")])])]),s("tbody",e._l(e.solutions,(function(t,a){return s("tr",{key:a},[s("td",[e._v(e._s(t.task.title))]),s("td",[e._v(e._s(t.rate||"Brak oceny"))]),s("td",[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(s){return e.showSolution(t.pk)}}},[s("v-icon",[e._v("mdi-magnify")])],1)],1)])})),0)]],2)],1)],1):s("v-card",[s("v-card-title",[e._v("Studenci:")]),s("v-card-text",[s("v-list",e._l(e.students,(function(t,a){return s("v-list-item",{key:a},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-account")])],1),s("v-list-item-content",[s("v-list-item-title",{on:{click:function(s){return e.inspectUser(t.pk)}}},[s("v-hover",{scopedSlots:e._u([{key:"default",fn:function(a){var r=a.hover;return[s("span",{class:r?"title-link":""},[e._v(" "+e._s(t.first_name)+" "+e._s(t.last_name)+" ")])]}}],null,!0)})],1),s("v-list-item-subtitle",[e._v(e._s(t.email))])],1)],1)})),1)],1)],1)],1)],1)],1)},va=[],pa={data:function(){return{students:[],solutions:[]}},created:function(){var e=this,t="";t="Student"===this.userType.name?"tasks/getAllSolutions":"users/loadTeachersStudents",this.$store.dispatch(t).then((function(t){200===t.status&&("Student"===e.userType.name?e.solutions=t.data:e.students=t.data)}))},methods:{showSolution:function(e){this.$router.push({name:"Solution",params:{pk:e}})},inspectUser:function(e){this.$router.push({name:"UserData",params:{pk:e}})}},computed:{userType:function(){return this.$store.state.auth.profile.userType}}},ma=pa,ha=(s("346e"),s("1f4f")),fa=Object(u["a"])(ma,da,va,!1,null,"6afb2f27",null),ga=fa.exports;v()(fa,{VBtn:p["a"],VCard:ke["a"],VCardText:we["c"],VCardTitle:we["d"],VCol:x["a"],VHover:gt["a"],VIcon:re["a"],VList:ne["a"],VListItem:ie["a"],VListItemContent:le["a"],VListItemIcon:ce["a"],VListItemSubtitle:le["b"],VListItemTitle:le["c"],VRow:C["a"],VSimpleTable:ha["a"]});var ka=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-row",[s("v-col",[s("v-card",[s("v-card-title",[e._v(e._s(e.userData.user.first_name)+" "+e._s(e.userData.user.last_name))]),s("v-card-text",[s("v-simple-table",[[s("thead",[s("tr",{staticClass:"text-center"},[s("th",[e._v("Zadanie")]),s("th",[e._v("Ocena")]),s("th",[e._v("Podgląd")])])]),s("tbody",e._l(e.userData.tasks,(function(t,a){return s("tr",{key:a},[s("td",[e._v(e._s(t.title))]),s("td",[void 0!==e.getSolution(t)?s("div",[e._v(e._s(e.getSolution(t).rate||"Brak oceny"))]):s("div",[e._v("Brak rozwiązania")])]),s("td",[void 0!==e.getSolution(t)?s("div",[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(s){e.showSolution(e.getSolution(t))}}},[s("v-icon",[e._v("mdi-magnify")])],1)],1):s("div",[s("v-btn",{attrs:{icon:"",color:"error",disabled:""}},[s("v-icon",[e._v("mdi-magnify")])],1)],1)])])})),0)]],2)],1)],1)],1)],1)],1)},wa=[],ba={props:["pk"],data:function(){return{userData:{}}},created:function(){var e=this;this.$store.dispatch("users/getUserData",this.pk).then((function(t){200===t.status&&(e.userData=t.data)}))},methods:{getSolution:function(e){var t=this,s=e.solution.find((function(e){return e.user.pk===t.userData.user.pk}));return s},showSolution:function(e){var t=null;e&&(t=e.pk),this.$router.push({name:"Solution",params:{pk:t}})}}},_a=ba,ya=Object(u["a"])(_a,ka,wa,!1,null,null,null),xa=ya.exports;v()(ya,{VBtn:p["a"],VCard:ke["a"],VCardText:we["c"],VCardTitle:we["d"],VCol:x["a"],VIcon:re["a"],VRow:C["a"],VSimpleTable:ha["a"]});var Ta=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{height:"100%"}},[s("v-row",{staticClass:"grey darken-3",staticStyle:{height:"8%"},attrs:{align:"center"}},["Test"===e.task.taskType.name?s("v-col",{staticClass:"ma-0 pa-0"},[s("v-tabs",{attrs:{left:"",dark:"","show-arrows":""},on:{change:e.onExerciseTabChange},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.tabsExercises,(function(t,a){return s("v-tab",{key:a},[s("v-icon",{attrs:{color:"blue",left:""}},[e._v("mdi-language-"+e._s(t.language.name.toLowerCase()))]),e._v(" "+e._s(t.title)+" "),void 0!==e.tabsSolutionsResults[a].result&&null!==e.tabsSolutionsResults[a].result?s("span",[e.tabsSolutionsResults[a].result?s("v-icon",{attrs:{right:"",small:"",color:"success"}},[e._v(" mdi-checkbox-marked-circle ")]):s("v-icon",{attrs:{right:"",small:"",color:"warning"}},[e._v(" mdi-alert-circle ")])],1):s("v-icon",{attrs:{right:"",small:""}},[e._v(" mdi-checkbox-blank-circle-outline ")])],1)})),1)],1):s("v-col",{staticClass:"white--text"},[s("v-icon",{attrs:{color:"blue",left:""}},[e._v("mdi-language-"+e._s(e.task.exercise.language.name.toLowerCase()))]),e._v(" "+e._s(e.task.exercise.title)+" ")],1),s("v-spacer"),s("v-col",{staticClass:"pa-0 ma-0 text-right",attrs:{cols:"2"}},[s("v-btn",{staticClass:"white--text",attrs:{color:"orange",loading:e.sendSolutionLoading},on:{click:e.runSolution}},[s("v-icon",{attrs:{left:""}},[e._v("mdi-play")]),e._v(" Uruchom ")],1)],1),s("v-col",{attrs:{cols:"1"}},[s("v-btn",{attrs:{color:"success",disabled:e.isReadyToSave},on:{click:e.commitSolutions}},[s("v-icon",{attrs:{left:""}},[e._v("mdi-file")]),e._v(" Zapisz ")],1)],1)],1),s("v-divider"),s("v-row",{staticClass:"pt-0 mt-0",staticStyle:{height:"92%"}},["Test"===e.task.taskType.name?s("v-col",{staticClass:"mt-0 mb-0 pt-0 pb-0"},[s("v-tabs-items",{staticStyle:{height:"100%"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.tabsExercises,(function(t,a){return s("v-tab-item",{key:"item-"+a,staticStyle:{height:"100%"}},[s("v-row",{staticStyle:{"max-height":"100%",height:"100%"}},[s("v-col",{staticClass:"ma-0 pa-0"},[s("v-card",{attrs:{tile:"",dark:"",height:"100%"}},[s("v-card-text",[s("h3",{staticClass:"mb-5"},[e._v("Treść zadania:")]),e._v(" "+e._s(t.content)+" "),s("v-divider",{staticClass:"mt-5 mb-5"}),s("h3",{staticClass:"mb-5"},[e._v("Testy:")]),e._l(t.unit_tests,(function(t,a){return s("p",{key:"arr_elem_test-"+a},[e._v(" Test "+e._s(a+1)+": "),s("br"),e._l(t.content.split("\n"),(function(t,a){return s("span",{key:"test-"+a},[e._v(" "+e._s(t)+" ")])}))],2)}))],2)],1)],1),s("v-divider",{attrs:{vertical:""}}),s("v-col",{staticClass:"pa-0",attrs:{cols:"8"}},[s("v-row",{staticStyle:{height:"70%"}},[s("v-col",{staticClass:"pt-0 pb-0",staticStyle:{"max-height":"100%"},attrs:{cols:"12"}},[s("v-card",{attrs:{dark:"",tile:"",height:"100%"}},[s("v-card-text",{staticStyle:{height:"100%"}},[s("prism-editor",{attrs:{code:e.tabsExercisesCodes[a],language:e.tabsExercises[a].language.name.toLowerCase()},model:{value:e.tabsExercisesCodes[a],callback:function(t){e.$set(e.tabsExercisesCodes,a,t)},expression:"tabsExercisesCodes[index]"}})],1)],1)],1)],1),s("v-divider"),s("v-row",{staticStyle:{height:"29.9%"}},[s("v-col",{staticClass:"pt-0 pb-0",staticStyle:{"max-height":"100%"},attrs:{cols:"12"}},[s("v-card",{staticStyle:{"max-height":"100%",height:"100%","overflow-y":"scroll"},attrs:{dark:"",tile:""}},[s("v-card-text",[s("span",[e._v(" "+e._s(e.tabsResponseMessages[a])+" ")]),s("br"),e._l(e.tabsSolutionsResults[a].test_results,(function(t,a){return s("span",{key:"item-"+a},[e._v(" "+e._s(t)+" "),s("br")])}))],2)],1)],1)],1)],1)],1)],1)})),1)],1):s("v-col",{staticClass:"mt-0 mb-0 pt-0 pb-0"},[s("v-row",{staticStyle:{"max-height":"100%",height:"100%"}},[s("v-col",{staticClass:"ma-0 pa-0"},[s("v-card",{attrs:{dark:"",tile:"",height:"100%"}},[s("v-card-text",[s("h3",{staticClass:"mb-5"},[e._v("Treść zadania:")]),e._v(" "+e._s(e.task.exercise.content)+" "),s("v-divider",{staticClass:"mt-5 mb-5"}),s("h3",{staticClass:"mb-5"},[e._v("Testy: ")]),e._l(e.task.exercise.unit_tests,(function(t,a){return s("p",{key:"arr_elem_test-"+a},[e._v(" Test "+e._s(a+1)+": "),s("br"),e._l(t.content.split("\n"),(function(t,a){return s("span",{key:"test-"+a},[e._v(" "+e._s(t)+" "),s("br")])}))],2)}))],2)],1)],1),s("v-divider",{attrs:{vertical:""}}),s("v-col",{staticClass:"pa-0",attrs:{cols:"8"}},[s("v-row",{staticStyle:{height:"70%"}},[s("v-col",{staticClass:"pt-0 pb-0",staticStyle:{"max-height":"100%"},attrs:{cols:"12"}},[s("v-card",{attrs:{dark:"",tile:"",height:"100%"}},[s("v-card-text",{staticStyle:{height:"100%"}},[s("prism-editor",{attrs:{code:e.myCode,language:e.task.exercise.language.name},model:{value:e.myCode,callback:function(t){e.myCode=t},expression:"myCode"}})],1)],1)],1)],1),s("v-divider"),s("v-row",{staticStyle:{height:"29.9%"}},[s("v-col",{staticClass:"pt-0 pb-0",staticStyle:{"max-height":"100%"},attrs:{cols:"12"}},[s("v-card",{staticStyle:{"max-height":"100%",height:"100%","overflow-y":"scroll"},attrs:{dark:"",tile:""}},[s("v-card-text",[s("span",[e._v(" "+e._s(e.responseMessage)+" ")]),s("br"),e._l(e.testResults,(function(t,a){return s("span",{key:a},[e._v(" "+e._s(t)+" "),s("br")])}))],2)],1)],1)],1)],1)],1)],1)],1)],1)},Va=[],Ca=(s("a623"),s("c197"),s("3d21"),s("922d"),s("fa97"),s("431a")),za=s.n(Ca),Sa={props:["task"],components:{PrismEditor:za.a},data:function(){return{tab:0,executionContextTab:0,tabsExercises:[],tabsExercisesCodes:[],tabsSolutionsResults:[],tabsResponseMessages:[],myCode:"",sendSolutionLoading:!1,responseMessage:"",testResults:null,isReadyToSave:!0}},created:function(){console.log(this.task),"Test"===this.task.taskType.name?(this.tabsExercises=this.task.test.exercises,this.tabsExercisesCodes=this.tabsExercises.map((function(e){if("Java"===e.language.name)return"// Tu wprowadź swój kod"})),this.tabsSolutionsResults=this.tabsExercises.map((function(e){return{result:null}}))):"Java"===this.task.exercise.language.name&&(this.myCode="// Tu wprowadź swój kod")},methods:{runSolution:function(){var e=this;if("Test"===this.task.taskType.name){if(0===this.tabsExercisesCodes[this.tab].length)return}else if(0===this.myCode.length)return;this.sendSolutionLoading=!0,this.executionContextTab=this.tab;var t=new FormData;t.append("taskPk",this.task.pk),t.append("solutionType",this.task.solutionType.name),"Exercise"===this.task.taskType.name?t.append("solution",this.myCode):(t.append("solution",this.tabsExercisesCodes[this.executionContextTab]),t.append("exercisePk",this.tabsExercises[this.executionContextTab].pk)),this.$store.dispatch("tasks/sendSolution",t).then((function(t){if(e.sendSolutionLoading=!1,200===t.status)if(e.responseMessage=t.data.message,"Exercise"===e.task.taskType.name)e.testResults=t.data.test_results,e.isReadyToSave=!t.data.result;else{e.tabsSolutionsResults[e.executionContextTab].test_results=t.data.test_results,e.tabsSolutionsResults[e.executionContextTab].result=t.data.result,e.tabsResponseMessages[e.executionContextTab]=t.data.message;var s=function(e,t,s){return null!==e.result};e.isReadyToSave=!e.tabsSolutionsResults.every(s)}else"Exercise"===e.task.taskType.name?e.responseMessage="Nie udalo sie przetestowac kodu":e.tabsResponseMessages[e.executionContextTab]="Nie udalo sie przetestowac kodu"}))},commitSolutions:function(){alert("Twoje odpowiedzi zostaly zapisane"),this.$router.push({name:"TaskListing"})},onExerciseTabChange:function(){console.log("Current exercise: "),console.log(this.tabsExercises[this.tab])}}},Ra=Sa,$a=(s("a796"),s("71a3")),La=s("c671"),Ea=s("fe57"),ja=s("aac8"),Ua=Object(u["a"])(Ra,Ta,Va,!1,null,null,null),Da=Ua.exports;v()(Ua,{VBtn:p["a"],VCard:ke["a"],VCardText:we["c"],VCol:x["a"],VDivider:st["a"],VIcon:re["a"],VRow:C["a"],VSpacer:h["a"],VTab:$a["a"],VTabItem:La["a"],VTabs:Ea["a"],VTabsItems:ja["a"]});var Aa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-card",[s("v-card-title",[s("v-row",[s("v-col",[e._v("Studenci")])],1)],1),s("v-card-text",[s("v-tabs",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.items,(function(t,a){return s("v-tab",{key:a},[e._v(e._s(t.title))])})),1),s("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.items,(function(t,a){return s("v-tab-item",{key:"item-"+a},[Array.isArray(t.content)?s("span",[s("v-list",e._l(t.content,(function(t,a){return s("v-list-item",{key:a},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-account")])],1),s("v-list-item-content",[s("v-list-item-title",{on:{click:function(s){return e.inspectUser(t.pk)}}},[s("v-hover",{scopedSlots:e._u([{key:"default",fn:function(a){var r=a.hover;return[s("span",{class:r?"title-link":""},[e._v(e._s(t.first_name)+" "+e._s(t.last_name))])]}}],null,!0)})],1),s("v-list-item-subtitle",[e._v(e._s(t.email))])],1)],1)})),1)],1):s("span",[s("v-row",[s("v-col",[e._v("Tworzenie studentów")])],1),s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("v-row",[s("v-col",[e._v("Wyślij email z linkiem rejestracyjnym")])],1),s("v-row",[s("v-col",[s("v-form",[s("v-text-field",{attrs:{outlined:"",type:"email",label:"Email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1),s("v-col",[s("v-btn",{on:{click:e.send_registration_link}},[e._v("Wyślij")])],1)],1)],1),s("v-col",{attrs:{cols:"6"}},[s("v-row",[s("v-col",[e._v("Status użytkowników")])],1),s("v-row",[s("v-col",[e._v(" Tu bedzie lista uzytkownikow ze statusem (utworzyl konto, jeszcze nie utworzone) i przycisk do re sendu maila ")])],1)],1)],1)],1)])})),1)],1)],1)],1)},Na=[],Ia={data:function(){return{tab:null,my_students:[],all_students:[],items:[{title:"Moi studenci",content:this.my_students},{title:"Wszyscy",content:this.all_students},{title:"Zarządzaj",content:"Manage"}],email:""}},created:function(){var e=this;this.$store.dispatch("users/loadTeachersStudents").then((function(t){200===t.status&&(e.my_students=t.data,e.items[0].content=e.my_students)})),this.$store.dispatch("users/loadStudents").then((function(t){200===t.data.status&&(e.all_students=t.data.data,console.log(e.all_students),e.items[1].content=e.all_students)}))},methods:{send_registration_link:function(){}}},Pa=Ia,Fa=Object(u["a"])(Pa,Aa,Na,!1,null,null,null),qa=Fa.exports;v()(Fa,{VBtn:p["a"],VCard:ke["a"],VCardText:we["c"],VCardTitle:we["d"],VCol:x["a"],VForm:be["a"],VHover:gt["a"],VIcon:re["a"],VList:ne["a"],VListItem:ie["a"],VListItemContent:le["a"],VListItemIcon:ce["a"],VListItemSubtitle:le["b"],VListItemTitle:le["c"],VRow:C["a"],VTab:$a["a"],VTabItem:La["a"],VTabs:Ea["a"],VTabsItems:ja["a"],VTextField:ye["a"]}),a["a"].use(Y["a"]);var Oa=new Y["a"]({routes:[{path:"/",name:"StartSite",component:ve,children:[{path:"students",name:"Students",component:qa},{path:"groups",name:"MyGroups",component:Ke,children:[{path:"/",name:"GroupListing",component:wt},{path:"group/:name",name:"GroupDetails",component:Vt},{path:"newGroup",name:"GroupCreator",component:nt,meta:{onlyTeacherAllowed:!0}},{path:"group/:name/edit",name:"GroupEditor",component:vt,meta:{onlyTeacherAllowed:!0}}]},{path:"tasks",name:"MyTasks",component:Lt,children:[{path:"/",name:"TaskListing",component:Nt},{path:"newTask",name:"TaskCreator",component:Mt,meta:{onlyTeacherAllowed:!0}},{path:":pk",name:"TaskDetails",component:hs,props:!0}]},{path:"exercises",name:"MyExercises",component:_s,meta:{onlyTeacherAllowed:!0},children:[{path:"/",name:"ExerciseListing",component:zs},{path:":pk",name:"ExerciseDetails",component:Xt,props:!0},{path:"newExercise",name:"ExerciseCreator",component:Us}]},{path:"tests",name:"MyTests",component:ra,meta:{onlyTeacherAllowed:!0},children:[{path:"/",name:"TestListing",component:Fs},{path:":pk",name:"TestDetails",component:Ws},{path:"newTest",name:"TestCreator",component:Xs}]},{path:"solution/:pk",name:"Solution",component:ua},{path:"solutions",name:"SolutionListing",component:ga},{path:"profile/:pk",name:"UserData",component:xa,props:!0}]},{path:"/login",component:Te},{path:"/register",component:Le},{path:"/obtain_reset_password_link",name:"ObtainResetPasswordLink",component:Ne},{path:"/reset_password/:hash_string",name:"ResetPasswordForm",component:Me},{path:"/tasks",name:"MyTasks",component:Lt,children:[{path:"tasks/:pk/solution/:pks",name:"Solution",component:ua}]},{path:"/editor",name:"Editor",component:Da,props:!0}],mode:"history"});Oa.beforeEach((function(e,t,s){var a={};localStorage.getItem("profile")&&(a=JSON.parse(localStorage.getItem("profile")).userType.name),e.matched.some((function(e){return e.meta.onlyTeacherAllowed}))&&"Teacher"!==a?s({path:"/"}):s()}));var Ga=Oa,Ma=s("f309");a["a"].use(Ma["a"]);var Ha=new Ma["a"]({theme:{dark:!1}}),Wa=s("1dce"),Ba=s.n(Wa),Za=s("998c"),Ja=s.n(Za);a["a"].use(Ja.a),a["a"].use(Ba.a),a["a"].config.productionTip=!1,new a["a"]({store:X,router:Ga,vuetify:Ha,created:function(){window.addEventListener("beforeunload",this.pageUnloadHandler),this.$store.commit("auth/init")},methods:{pageUnloadHandler:function(){this.$store.commit("auth/init")}},render:function(e){return e(S)}}).$mount("#app")},"7b44":function(e,t,s){},"80d6":function(e,t,s){},"8a23":function(e,t,s){},"8d97":function(e,t,s){},a627:function(e,t,s){},a796:function(e,t,s){"use strict";var a=s("dfe1"),r=s.n(a);r.a},dfe1:function(e,t,s){},e978:function(e,t,s){},e98a:function(e,t,s){"use strict";var a=s("8d97"),r=s.n(a);r.a},ebfc:function(e,t,s){"use strict";var a=s("a627"),r=s.n(a);r.a}});
//# sourceMappingURL=app.c3e43a77.js.map